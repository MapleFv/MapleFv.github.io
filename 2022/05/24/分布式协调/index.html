<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.1.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-48x48-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-32x32-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="üçã üçã üçã üçã üçã">
<meta property="og:type" content="article">
<meta property="og:title" content="ÂàÜÂ∏ÉÂºèÂçèË∞É">
<meta property="og:url" content="http://example.com/2022/05/24/%E5%88%86%E5%B8%83%E5%BC%8F%E5%8D%8F%E8%B0%83/index.html">
<meta property="og:site_name" content="Hello,China">
<meta property="og:description" content="üçã üçã üçã üçã üçã">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/MapleFv/BolgImgs/202205251020705.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/MapleFv/BolgImgs/202205251020361.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/MapleFv/BolgImgs/202205251021015.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/MapleFv/BolgImgs/202205251021839.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/MapleFv/BolgImgs/202205251021691.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/MapleFv/BolgImgs/202205251021292.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/MapleFv/BolgImgs/202205251021292.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/MapleFv/BolgImgs/202205251023434.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/MapleFv/BolgImgs/202205251023906.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/MapleFv/BolgImgs/202205251023326.png">
<meta property="article:published_time" content="2022-05-24T01:13:06.000Z">
<meta property="article:modified_time" content="2022-05-25T02:24:20.793Z">
<meta property="article:author" content="Maple">
<meta property="article:tag" content="Zookeeper">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/MapleFv/BolgImgs/202205251020705.png">

<link rel="canonical" href="http://example.com/2022/05/24/%E5%88%86%E5%B8%83%E5%BC%8F%E5%8D%8F%E8%B0%83/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>ÂàÜÂ∏ÉÂºèÂçèË∞É | Hello,China</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Hello,China" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

		


    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="ÂàáÊç¢ÂØºËà™Ê†è">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hello,China</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fas fa-home fa-fw"></i>È¶ñÈ°µ</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fas fa-archive fa-fw"></i>ÂΩíÊ°£</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fas fa-bookmark fa-fw"></i>ÂàÜÁ±ª</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fas fa-tags fa-fw"></i>Ê†áÁ≠æ</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fas fa-user-circle fa-fw"></i>ÂÖ≥‰∫é</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>ÊêúÁ¥¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="ÊêúÁ¥¢..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/MapleFv" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/05/24/%E5%88%86%E5%B8%83%E5%BC%8F%E5%8D%8F%E8%B0%83/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/header.jpg">
      <meta itemprop="name" content="Maple">
      <meta itemprop="description" content="coding super">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hello,China">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          ÂàÜÂ∏ÉÂºèÂçèË∞É
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">ÂèëË°®‰∫é</span>

              <time title="ÂàõÂª∫Êó∂Èó¥Ôºö2022-05-24 09:13:06" itemprop="dateCreated datePublished" datetime="2022-05-24T09:13:06+08:00">2022-05-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Êõ¥Êñ∞‰∫é</span>
                <time title="‰øÆÊîπÊó∂Èó¥Ôºö2022-05-25 10:24:20" itemprop="dateModified" datetime="2022-05-25T10:24:20+08:00">2022-05-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">ÂàÜÁ±ª‰∫é</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">ÂàÜÂ∏ÉÂºè</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>üçã üçã üçã üçã üçã</p>
<span id="more"></span>

<h1 id="1-ZooKeeper-Áõ∏ÂÖ≥Ê¶ÇÂøµÊÄªÁªì-ÂÖ•Èó®"><a href="#1-ZooKeeper-Áõ∏ÂÖ≥Ê¶ÇÂøµÊÄªÁªì-ÂÖ•Èó®" class="headerlink" title="1 ZooKeeper Áõ∏ÂÖ≥Ê¶ÇÂøµÊÄªÁªì(ÂÖ•Èó®)"></a>1 ZooKeeper Áõ∏ÂÖ≥Ê¶ÇÂøµÊÄªÁªì(ÂÖ•Èó®)</h1><h2 id="1-1-ZooKeeper-‰ªãÁªç"><a href="#1-1-ZooKeeper-‰ªãÁªç" class="headerlink" title="1.1 ZooKeeper ‰ªãÁªç"></a>1.1 ZooKeeper ‰ªãÁªç</h2><h3 id="1-1-1-ZooKeeper-Ê¶ÇËßà"><a href="#1-1-1-ZooKeeper-Ê¶ÇËßà" class="headerlink" title="1.1.1 ZooKeeper Ê¶ÇËßà"></a>1.1.1 ZooKeeper Ê¶ÇËßà</h3><p>ZooKeeper ÊòØ‰∏Ä‰∏™ÂºÄÊ∫êÁöÑ<strong>ÂàÜÂ∏ÉÂºèÂçèË∞ÉÊúçÂä°Ôºå</strong>ÂÆÉÁöÑËÆæËÆ°ÁõÆÊ†áÊòØÂ∞ÜÈÇ£‰∫õÂ§çÊùÇ‰∏îÂÆπÊòìÂá∫ÈîôÁöÑÂàÜÂ∏ÉÂºè‰∏ÄËá¥ÊÄßÊúçÂä°Â∞ÅË£ÖËµ∑Êù•ÔºåÊûÑÊàê‰∏Ä‰∏™È´òÊïàÂèØÈù†ÁöÑÂéüËØ≠ÈõÜÔºåÂπ∂‰ª•‰∏ÄÁ≥ªÂàóÁÆÄÂçïÊòìÁî®ÁöÑÊé•Âè£Êèê‰æõÁªôÁî®Êà∑‰ΩøÁî®„ÄÇ</p>
<p><strong>ZooKeeper ‰∏∫Êàë‰ª¨Êèê‰æõ‰∫ÜÈ´òÂèØÁî®„ÄÅÈ´òÊÄßËÉΩ„ÄÅÁ®≥ÂÆöÁöÑÂàÜÂ∏ÉÂºèÊï∞ÊçÆ‰∏ÄËá¥ÊÄßËß£ÂÜ≥ÊñπÊ°àÔºåÈÄöÂ∏∏Ë¢´Áî®‰∫éÂÆûÁé∞ËØ∏Â¶ÇÊï∞ÊçÆÂèëÂ∏É&#x2F;ËÆ¢ÈòÖ„ÄÅË¥üËΩΩÂùáË°°„ÄÅÂëΩÂêçÊúçÂä°„ÄÅÂàÜÂ∏ÉÂºèÂçèË∞É&#x2F;ÈÄöÁü•„ÄÅÈõÜÁæ§ÁÆ°ÁêÜ„ÄÅMaster ÈÄâ‰∏æ„ÄÅÂàÜÂ∏ÉÂºèÈîÅÂíåÂàÜÂ∏ÉÂºèÈòüÂàóÁ≠âÂäüËÉΩ„ÄÇ</strong></p>
<p>Âè¶Â§ñÔºå<strong>ZooKeeper Â∞ÜÊï∞ÊçÆ‰øùÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ÔºåÊÄßËÉΩÊòØÈùûÂ∏∏Ê£íÁöÑ„ÄÇ Âú®‚ÄúËØª‚ÄùÂ§ö‰∫é‚ÄúÂÜô‚ÄùÁöÑÂ∫îÁî®Á®ãÂ∫è‰∏≠Â∞§ÂÖ∂Âú∞È´òÊÄßËÉΩÔºåÂõ†‰∏∫‚ÄúÂÜô‚Äù‰ºöÂØºËá¥ÊâÄÊúâÁöÑÊúçÂä°Âô®Èó¥ÂêåÊ≠•Áä∂ÊÄÅ„ÄÇÔºà‚ÄúËØª‚ÄùÂ§ö‰∫é‚ÄúÂÜô‚ÄùÊòØÂçèË∞ÉÊúçÂä°ÁöÑÂÖ∏ÂûãÂú∫ÊôØÔºâ„ÄÇ</strong></p>
<h3 id="1-1-2-ZooKeeper-ÁâπÁÇπ"><a href="#1-1-2-ZooKeeper-ÁâπÁÇπ" class="headerlink" title="1.1.2 ZooKeeper ÁâπÁÇπ"></a>1.1.2 ZooKeeper ÁâπÁÇπ</h3><ul>
<li><strong>È°∫Â∫è‰∏ÄËá¥ÊÄßÔºö</strong> ‰ªéÂêå‰∏ÄÂÆ¢Êà∑Á´ØÂèëËµ∑ÁöÑ‰∫ãÂä°ËØ∑Ê±ÇÔºåÊúÄÁªàÂ∞Ü‰ºö‰∏•Ê†ºÂú∞ÊåâÁÖßÈ°∫Â∫èË¢´Â∫îÁî®Âà∞ ZooKeeper ‰∏≠Âéª„ÄÇ</li>
<li><strong>ÂéüÂ≠êÊÄßÔºö</strong> ÊâÄÊúâ‰∫ãÂä°ËØ∑Ê±ÇÁöÑÂ§ÑÁêÜÁªìÊûúÂú®Êï¥‰∏™ÈõÜÁæ§‰∏≠ÊâÄÊúâÊú∫Âô®‰∏äÁöÑÂ∫îÁî®ÊÉÖÂÜµÊòØ‰∏ÄËá¥ÁöÑÔºå‰πüÂ∞±ÊòØËØ¥ÔºåË¶Å‰πàÊï¥‰∏™ÈõÜÁæ§‰∏≠ÊâÄÊúâÁöÑÊú∫Âô®ÈÉΩÊàêÂäüÂ∫îÁî®‰∫ÜÊüê‰∏Ä‰∏™‰∫ãÂä°ÔºåË¶Å‰πàÈÉΩÊ≤°ÊúâÂ∫îÁî®„ÄÇ</li>
<li><strong>Âçï‰∏ÄÁ≥ªÁªüÊò†ÂÉè Ôºö</strong> Êó†ËÆ∫ÂÆ¢Êà∑Á´ØËøûÂà∞Âì™‰∏Ä‰∏™ ZooKeeper ÊúçÂä°Âô®‰∏äÔºåÂÖ∂ÁúãÂà∞ÁöÑÊúçÂä°Á´ØÊï∞ÊçÆÊ®°ÂûãÈÉΩÊòØ‰∏ÄËá¥ÁöÑ„ÄÇ</li>
<li><strong>ÂèØÈù†ÊÄßÔºö</strong> ‰∏ÄÊó¶‰∏ÄÊ¨°Êõ¥ÊîπËØ∑Ê±ÇË¢´Â∫îÁî®ÔºåÊõ¥ÊîπÁöÑÁªìÊûúÂ∞±‰ºöË¢´ÊåÅ‰πÖÂåñÔºåÁõ¥Âà∞Ë¢´‰∏ã‰∏ÄÊ¨°Êõ¥ÊîπË¶ÜÁõñ„ÄÇ</li>
<li></li>
</ul>
<h3 id="1-1-3-ZooKeeper-ÂÖ∏ÂûãÂ∫îÁî®Âú∫ÊôØ"><a href="#1-1-3-ZooKeeper-ÂÖ∏ÂûãÂ∫îÁî®Âú∫ÊôØ" class="headerlink" title="1.1.3 ZooKeeper ÂÖ∏ÂûãÂ∫îÁî®Âú∫ÊôØ"></a>1.1.3 ZooKeeper ÂÖ∏ÂûãÂ∫îÁî®Âú∫ÊôØ</h3><ol>
<li><strong>ÂàÜÂ∏ÉÂºèÈîÅ</strong> Ôºö ÈÄöËøáÂàõÂª∫ÂîØ‰∏ÄËäÇÁÇπËé∑ÂæóÂàÜÂ∏ÉÂºèÈîÅÔºåÂΩìËé∑ÂæóÈîÅÁöÑ‰∏ÄÊñπÊâßË°åÂÆåÁõ∏ÂÖ≥‰ª£Á†ÅÊàñËÄÖÊòØÊåÇÊéâ‰πãÂêéÂ∞±ÈáäÊîæÈîÅ„ÄÇ</li>
<li><strong>ÂëΩÂêçÊúçÂä°</strong> ÔºöÂèØ‰ª•ÈÄöËøá ZooKeeper ÁöÑÈ°∫Â∫èËäÇÁÇπÁîüÊàêÂÖ®Â±ÄÂîØ‰∏Ä ID</li>
<li><strong>Êï∞ÊçÆÂèëÂ∏É&#x2F;ËÆ¢ÈòÖ</strong> ÔºöÈÄöËøá <strong>Watcher Êú∫Âà∂</strong> ÂèØ‰ª•ÂæàÊñπ‰æøÂú∞ÂÆûÁé∞Êï∞ÊçÆÂèëÂ∏É&#x2F;ËÆ¢ÈòÖ„ÄÇÂΩì‰Ω†Â∞ÜÊï∞ÊçÆÂèëÂ∏ÉÂà∞ ZooKeeper Ë¢´ÁõëÂê¨ÁöÑËäÇÁÇπ‰∏äÔºåÂÖ∂‰ªñÊú∫Âô®ÂèØÈÄöËøáÁõëÂê¨ ZooKeeper ‰∏äËäÇÁÇπÁöÑÂèòÂåñÊù•ÂÆûÁé∞ÈÖçÁΩÆÁöÑÂä®ÊÄÅÊõ¥Êñ∞„ÄÇ<blockquote>
<p>ÂÆûÈôÖ‰∏äÔºåËøô‰∫õÂäüËÉΩÁöÑÂÆûÁé∞Âü∫Êú¨ÈÉΩÂæóÁõä‰∫é ZooKeeper ÂèØ‰ª•‰øùÂ≠òÊï∞ÊçÆÁöÑÂäüËÉΩÔºå‰ΩÜÊòØ ZooKeeper ‰∏çÈÄÇÂêà‰øùÂ≠òÂ§ßÈáèÊï∞ÊçÆÔºåËøô‰∏ÄÁÇπÈúÄË¶ÅÊ≥®ÊÑè„ÄÇ</p>
</blockquote>
</li>
</ol>
<h3 id="1-1-4-ÊúâÂì™‰∫õËëóÂêçÁöÑÂºÄÊ∫êÈ°πÁõÆÁî®Âà∞‰∫Ü-ZooKeeper"><a href="#1-1-4-ÊúâÂì™‰∫õËëóÂêçÁöÑÂºÄÊ∫êÈ°πÁõÆÁî®Âà∞‰∫Ü-ZooKeeper" class="headerlink" title="1.1.4 ÊúâÂì™‰∫õËëóÂêçÁöÑÂºÄÊ∫êÈ°πÁõÆÁî®Âà∞‰∫Ü ZooKeeper?"></a>1.1.4 ÊúâÂì™‰∫õËëóÂêçÁöÑÂºÄÊ∫êÈ°πÁõÆÁî®Âà∞‰∫Ü ZooKeeper?</h3><ol>
<li><strong>Kafka</strong> : ZooKeeper ‰∏ªË¶Å‰∏∫ Kafka Êèê‰æõ Broker Âíå Topic ÁöÑÊ≥®ÂÜå‰ª•ÂèäÂ§ö‰∏™ Partition ÁöÑË¥üËΩΩÂùáË°°Á≠âÂäüËÉΩ„ÄÇ</li>
<li><strong>Hbase</strong> : ZooKeeper ‰∏∫ Hbase Êèê‰æõÁ°Æ‰øùÊï¥‰∏™ÈõÜÁæ§Âè™Êúâ‰∏Ä‰∏™ Master ‰ª•Âèä‰øùÂ≠òÂíåÊèê‰æõ regionserver Áä∂ÊÄÅ‰ø°ÊÅØÔºàÊòØÂê¶Âú®Á∫øÔºâÁ≠âÂäüËÉΩ„ÄÇ</li>
<li><strong>Hadoop</strong> : ZooKeeper ‰∏∫ Namenode Êèê‰æõÈ´òÂèØÁî®ÊîØÊåÅ</li>
</ol>
<h2 id="1-2-ZooKeeper-ÈáçË¶ÅÊ¶ÇÂøµËß£ËØª"><a href="#1-2-ZooKeeper-ÈáçË¶ÅÊ¶ÇÂøµËß£ËØª" class="headerlink" title="1.2 ZooKeeper ÈáçË¶ÅÊ¶ÇÂøµËß£ËØª"></a>1.2 ZooKeeper ÈáçË¶ÅÊ¶ÇÂøµËß£ËØª</h2><h3 id="1-2-1-Data-modelÔºàÊï∞ÊçÆÊ®°ÂûãÔºâ"><a href="#1-2-1-Data-modelÔºàÊï∞ÊçÆÊ®°ÂûãÔºâ" class="headerlink" title="1.2.1 Data modelÔºàÊï∞ÊçÆÊ®°ÂûãÔºâ"></a>1.2.1 Data modelÔºàÊï∞ÊçÆÊ®°ÂûãÔºâ</h3><p>ZooKeeper Êï∞ÊçÆÊ®°ÂûãÈááÁî®Â±ÇÊ¨°ÂåñÁöÑÂ§öÂèâÊ†ëÂΩ¢ÁªìÊûÑÔºåÊØè‰∏™ËäÇÁÇπ‰∏äÈÉΩÂèØ‰ª•Â≠òÂÇ®Êï∞ÊçÆÔºåËøô‰∫õÊï∞ÊçÆÂèØ‰ª•ÊòØÊï∞Â≠ó„ÄÅÂ≠óÁ¨¶‰∏≤ÊàñËÄÖÊòØ‰∫åÁ∫ßÂà∂Â∫èÂàó„ÄÇÂπ∂‰∏î„ÄÇÊØè‰∏™ËäÇÁÇπËøòÂèØ‰ª•Êã•Êúâ N ‰∏™Â≠êËäÇÁÇπÔºåÊúÄ‰∏äÂ±ÇÊòØÊ†πËäÇÁÇπ‰ª•‚Äú&#x2F;‚ÄùÊù•‰ª£Ë°®„ÄÇÊØè‰∏™Êï∞ÊçÆËäÇÁÇπÂú® ZooKeeper ‰∏≠Ë¢´Áß∞‰∏∫ <strong>znode</strong>ÔºåÂÆÉÊòØ ZooKeeper ‰∏≠Êï∞ÊçÆÁöÑÊúÄÂ∞èÂçïÂÖÉ„ÄÇÂπ∂‰∏îÔºåÊØè‰∏™ znode ÈÉΩ‰∏Ä‰∏™ÂîØ‰∏ÄÁöÑË∑ØÂæÑÊ†áËØÜ„ÄÇ</p>
<p>Âº∫Ë∞É‰∏ÄÂè•Ôºö<strong>ZooKeeper ‰∏ªË¶ÅÊòØÁî®Êù•ÂçèË∞ÉÊúçÂä°ÁöÑÔºåËÄå‰∏çÊòØÁî®Êù•Â≠òÂÇ®‰∏öÂä°Êï∞ÊçÆÁöÑÔºåÊâÄ‰ª•‰∏çË¶ÅÊîæÊØîËæÉÂ§ßÁöÑÊï∞ÊçÆÂú® znode ‰∏äÔºåZooKeeper ÁªôÂá∫ÁöÑ‰∏äÈôêÊòØÊØè‰∏™ÁªìÁÇπÁöÑÊï∞ÊçÆÂ§ßÂ∞èÊúÄÂ§ßÊòØ 1M„ÄÇ</strong></p>
<h3 id="1-2-2-znodeÔºàÊï∞ÊçÆËäÇÁÇπÔºâ"><a href="#1-2-2-znodeÔºàÊï∞ÊçÆËäÇÁÇπÔºâ" class="headerlink" title="1.2.2 znodeÔºàÊï∞ÊçÆËäÇÁÇπÔºâ"></a>1.2.2 znodeÔºàÊï∞ÊçÆËäÇÁÇπÔºâ</h3><blockquote>
<p>ZooKeeper ‰∏≠Êï∞ÊçÆÁöÑÊúÄÂ∞èÂçïÂÖÉ„ÄÇ‰Ω†Ë¶ÅÂ≠òÊîæÁöÑÊï∞ÊçÆÂ∞±ÊîæÂú®‰∏äÈù¢ÔºåÊòØ‰Ω†‰ΩøÁî® ZooKeeper ËøáÁ®ã‰∏≠ÁªèÂ∏∏ÈúÄË¶ÅÊé•Ëß¶Âà∞ÁöÑ‰∏Ä‰∏™Ê¶ÇÂøµ„ÄÇ</p>
</blockquote>
<h4 id="znode-4-ÁßçÁ±ªÂûã"><a href="#znode-4-ÁßçÁ±ªÂûã" class="headerlink" title="znode 4 ÁßçÁ±ªÂûã"></a>znode 4 ÁßçÁ±ªÂûã</h4><ul>
<li><strong>ÊåÅ‰πÖÔºàPERSISTENTÔºâËäÇÁÇπ</strong> Ôºö‰∏ÄÊó¶ÂàõÂª∫Â∞±‰∏ÄÁõ¥Â≠òÂú®Âç≥‰Ωø ZooKeeper ÈõÜÁæ§ÂÆïÊú∫ÔºåÁõ¥Âà∞Â∞ÜÂÖ∂Âà†Èô§„ÄÇ</li>
<li><strong>‰∏¥Êó∂ÔºàEPHEMERALÔºâËäÇÁÇπ</strong> Ôºö‰∏¥Êó∂ËäÇÁÇπÁöÑÁîüÂëΩÂë®ÊúüÊòØ‰∏é <strong>ÂÆ¢Êà∑Á´Ø‰ºöËØùÔºàsessionÔºâ</strong> ÁªëÂÆöÁöÑÔºå<strong>‰ºöËØùÊ∂àÂ§±ÂàôËäÇÁÇπÊ∂àÂ§±</strong> „ÄÇÂπ∂‰∏îÔºå<strong>‰∏¥Êó∂ËäÇÁÇπÂè™ËÉΩÂÅöÂè∂Â≠êËäÇÁÇπ</strong> Ôºå‰∏çËÉΩÂàõÂª∫Â≠êËäÇÁÇπ„ÄÇ</li>
<li><strong>ÊåÅ‰πÖÈ°∫Â∫èÔºàPERSISTENT_SEQUENTIALÔºâËäÇÁÇπ</strong> ÔºöÈô§‰∫ÜÂÖ∑ÊúâÊåÅ‰πÖÔºàPERSISTENTÔºâËäÇÁÇπÁöÑÁâπÊÄß‰πãÂ§ñÔºå Â≠êËäÇÁÇπÁöÑÂêçÁß∞ËøòÂÖ∑ÊúâÈ°∫Â∫èÊÄß„ÄÇÊØîÂ¶Ç &#x2F;node1&#x2F;app0000000001 „ÄÅ&#x2F;node1&#x2F;app0000000002 „ÄÇ</li>
<li><strong>‰∏¥Êó∂È°∫Â∫èÔºàEPHEMERAL_SEQUENTIALÔºâËäÇÁÇπ</strong> ÔºöÈô§‰∫ÜÂÖ∑Â§á‰∏¥Êó∂ÔºàEPHEMERALÔºâËäÇÁÇπÁöÑÁâπÊÄß‰πãÂ§ñÔºåÂ≠êËäÇÁÇπÁöÑÂêçÁß∞ËøòÂÖ∑ÊúâÈ°∫Â∫èÊÄß„ÄÇ</li>
</ul>
<h4 id="znode-Êï∞ÊçÆÁªìÊûÑ"><a href="#znode-Êï∞ÊçÆÁªìÊûÑ" class="headerlink" title="znode Êï∞ÊçÆÁªìÊûÑ"></a>znode Êï∞ÊçÆÁªìÊûÑ</h4><p>ÊØè‰∏™ znode Áî± 2 ÈÉ®ÂàÜÁªÑÊàê:</p>
<ul>
<li><strong>stat</strong> ÔºöÁä∂ÊÄÅ‰ø°ÊÅØ</li>
<li><strong>data</strong> Ôºö ËäÇÁÇπÂ≠òÊîæÁöÑÊï∞ÊçÆÁöÑÂÖ∑‰ΩìÂÜÖÂÆπ</li>
</ul>
<h3 id="1-2-3-ÁâàÊú¨"><a href="#1-2-3-ÁâàÊú¨" class="headerlink" title="1.2.3 ÁâàÊú¨"></a>1.2.3 ÁâàÊú¨</h3><p>Âú®ÂâçÈù¢Êàë‰ª¨Â∑≤ÁªèÊèêÂà∞ÔºåÂØπÂ∫î‰∫éÊØè‰∏™ znodeÔºåZooKeeper ÈÉΩ‰ºö‰∏∫ÂÖ∂Áª¥Êä§‰∏Ä‰∏™Âè´‰Ωú <strong>Stat</strong> ÁöÑÊï∞ÊçÆÁªìÊûÑÔºåStat ‰∏≠ËÆ∞ÂΩï‰∫ÜËøô‰∏™ znode ÁöÑ‰∏â‰∏™Áõ∏ÂÖ≥ÁöÑÁâàÊú¨Ôºö</p>
<ul>
<li><strong>dataVersion</strong> ÔºöÂΩìÂâç znode ËäÇÁÇπÁöÑÁâàÊú¨Âè∑</li>
<li><strong>cversion</strong> Ôºö ÂΩìÂâç znode Â≠êËäÇÁÇπÁöÑÁâàÊú¨</li>
<li><strong>aclVersion</strong> Ôºö ÂΩìÂâç znode ÁöÑ ACL ÁöÑÁâàÊú¨„ÄÇ</li>
</ul>
<h3 id="1-2-4-ACLÔºàÊùÉÈôêÊéßÂà∂Ôºâ"><a href="#1-2-4-ACLÔºàÊùÉÈôêÊéßÂà∂Ôºâ" class="headerlink" title="1.2.4 ACLÔºàÊùÉÈôêÊéßÂà∂Ôºâ"></a>1.2.4 ACLÔºàÊùÉÈôêÊéßÂà∂Ôºâ</h3><p>ZooKeeper ÈááÁî® ACLÔºàAccessControlListsÔºâÁ≠ñÁï•Êù•ËøõË°åÊùÉÈôêÊéßÂà∂ÔºåÁ±ª‰ºº‰∫é UNIX Êñá‰ª∂Á≥ªÁªüÁöÑÊùÉÈôêÊéßÂà∂„ÄÇ<br>ÂØπ‰∫é znode Êìç‰ΩúÁöÑÊùÉÈôêÔºåZooKeeper Êèê‰æõ‰∫Ü‰ª•‰∏ã 5 ÁßçÔºö</p>
<ul>
<li><strong>CREATE</strong> : ËÉΩÂàõÂª∫Â≠êËäÇÁÇπ</li>
<li><strong>READ</strong> ÔºöËÉΩËé∑ÂèñËäÇÁÇπÊï∞ÊçÆÂíåÂàóÂá∫ÂÖ∂Â≠êËäÇÁÇπ</li>
<li><strong>WRITE</strong> : ËÉΩËÆæÁΩÆ&#x2F;Êõ¥Êñ∞ËäÇÁÇπÊï∞ÊçÆ</li>
<li><strong>DELETE</strong> : ËÉΩÂà†Èô§Â≠êËäÇÁÇπ</li>
<li><strong>ADMIN</strong> : ËÉΩËÆæÁΩÆËäÇÁÇπ ACL ÁöÑÊùÉÈôê</li>
</ul>
<p>ÂÖ∂‰∏≠Â∞§ÂÖ∂ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºå<strong>CREATE</strong> Âíå <strong>DELETE</strong> Ëøô‰∏§ÁßçÊùÉÈôêÈÉΩÊòØÈíàÂØπ <strong>Â≠êËäÇÁÇπ</strong> ÁöÑÊùÉÈôêÊéßÂà∂„ÄÇ</p>
<p>ÂØπ‰∫éË∫´‰ªΩËÆ§ËØÅÔºåÊèê‰æõ‰∫Ü‰ª•‰∏ãÂá†ÁßçÊñπÂºèÔºö</p>
<ul>
<li><strong>world</strong> Ôºö ÈªòËÆ§ÊñπÂºèÔºåÊâÄÊúâÁî®Êà∑ÈÉΩÂèØÊó†Êù°‰ª∂ËÆøÈóÆ„ÄÇ</li>
<li><strong>auth</strong> :‰∏ç‰ΩøÁî®‰ªª‰Ωï idÔºå‰ª£Ë°®‰ªª‰ΩïÂ∑≤ËÆ§ËØÅÁöÑÁî®Êà∑„ÄÇ</li>
<li><strong>digest</strong> :Áî®Êà∑Âêç:ÂØÜÁ†ÅËÆ§ËØÅÊñπÂºèÔºö <em>username:password</em> „ÄÇ</li>
<li><strong>ip</strong> : ÂØπÊåáÂÆö ip ËøõË°åÈôêÂà∂„ÄÇ</li>
</ul>
<h3 id="1-2-5-WatcherÔºà‰∫ã‰ª∂ÁõëÂê¨Âô®Ôºâ"><a href="#1-2-5-WatcherÔºà‰∫ã‰ª∂ÁõëÂê¨Âô®Ôºâ" class="headerlink" title="1.2.5 WatcherÔºà‰∫ã‰ª∂ÁõëÂê¨Âô®Ôºâ"></a>1.2.5 WatcherÔºà‰∫ã‰ª∂ÁõëÂê¨Âô®Ôºâ</h3><p>WatcherÔºà‰∫ã‰ª∂ÁõëÂê¨Âô®ÔºâÔºåÊòØ ZooKeeper ‰∏≠ÁöÑ‰∏Ä‰∏™ÂæàÈáçË¶ÅÁöÑÁâπÊÄß„ÄÇZooKeeper ÂÖÅËÆ∏Áî®Êà∑Âú®ÊåáÂÆöËäÇÁÇπ‰∏äÊ≥®ÂÜå‰∏Ä‰∫õ WatcherÔºåÂπ∂‰∏îÂú®‰∏Ä‰∫õÁâπÂÆö‰∫ã‰ª∂Ëß¶ÂèëÁöÑÊó∂ÂÄôÔºåZooKeeper ÊúçÂä°Á´Ø‰ºöÂ∞Ü‰∫ã‰ª∂ÈÄöÁü•Âà∞ÊÑüÂÖ¥Ë∂£ÁöÑÂÆ¢Êà∑Á´Ø‰∏äÂéªÔºåËØ•Êú∫Âà∂ÊòØ ZooKeeper ÂÆûÁé∞ÂàÜÂ∏ÉÂºèÂçèË∞ÉÊúçÂä°ÁöÑÈáçË¶ÅÁâπÊÄß„ÄÇ</p>
<p><img src="https://cdn.jsdelivr.net/gh/MapleFv/BolgImgs/202205251020705.png" alt="img"></p>
<p><em>Á†¥Èü≥ÔºöÈùûÂ∏∏ÊúâÁî®ÁöÑ‰∏Ä‰∏™ÁâπÊÄßÔºåÈÉΩÊãøÂá∫Â∞èÊú¨Êú¨ËÆ∞Â•Ω‰∫ÜÔºåÂêéÈù¢Áî®Âà∞ ZooKeeper Âü∫Êú¨Á¶ª‰∏çÂºÄ WatcherÔºà‰∫ã‰ª∂ÁõëÂê¨Âô®ÔºâÊú∫Âà∂</em></p>
<h3 id="1-2-6-‰ºöËØùÔºàSessionÔºâ"><a href="#1-2-6-‰ºöËØùÔºàSessionÔºâ" class="headerlink" title="1.2.6 ‰ºöËØùÔºàSessionÔºâ"></a>1.2.6 ‰ºöËØùÔºàSessionÔºâ</h3><p>Session ÂèØ‰ª•Áúã‰ΩúÊòØ ZooKeeper ÊúçÂä°Âô®‰∏éÂÆ¢Êà∑Á´ØÁöÑ‰πãÈó¥ÁöÑ‰∏Ä‰∏™ TCP ÈïøËøûÊé•ÔºåÈÄöËøáËøô‰∏™ËøûÊé•ÔºåÂÆ¢Êà∑Á´ØËÉΩÂ§üÈÄöËøáÂøÉË∑≥Ê£ÄÊµã‰∏éÊúçÂä°Âô®‰øùÊåÅÊúâÊïàÁöÑ‰ºöËØùÔºå‰πüËÉΩÂ§üÂêë ZooKeeper ÊúçÂä°Âô®ÂèëÈÄÅËØ∑Ê±ÇÂπ∂Êé•ÂèóÂìçÂ∫îÔºåÂêåÊó∂ËøòËÉΩÂ§üÈÄöËøáËØ•ËøûÊé•Êé•Êî∂Êù•Ëá™ÊúçÂä°Âô®ÁöÑ Watcher ‰∫ã‰ª∂ÈÄöÁü•„ÄÇ</p>
<p>Session Êúâ‰∏Ä‰∏™Â±ûÊÄßÂè´ÂÅöÔºösessionTimeout ÔºåsessionTimeout ‰ª£Ë°®‰ºöËØùÁöÑË∂ÖÊó∂Êó∂Èó¥„ÄÇÂΩìÁî±‰∫éÊúçÂä°Âô®ÂéãÂäõÂ§™Â§ß„ÄÅÁΩëÁªúÊïÖÈöúÊàñÊòØÂÆ¢Êà∑Á´Ø‰∏ªÂä®Êñ≠ÂºÄËøûÊé•Á≠âÂêÑÁßçÂéüÂõ†ÂØºËá¥ÂÆ¢Êà∑Á´ØËøûÊé•Êñ≠ÂºÄÊó∂ÔºåÂè™Ë¶ÅÂú®sessionTimeoutËßÑÂÆöÁöÑÊó∂Èó¥ÂÜÖËÉΩÂ§üÈáçÊñ∞ËøûÊé•‰∏äÈõÜÁæ§‰∏≠‰ªªÊÑè‰∏ÄÂè∞ÊúçÂä°Âô®ÔºåÈÇ£‰πà‰πãÂâçÂàõÂª∫ÁöÑ‰ºöËØù‰ªçÁÑ∂ÊúâÊïà„ÄÇ</p>
<p>Âè¶Â§ñÔºåÂú®‰∏∫ÂÆ¢Êà∑Á´ØÂàõÂª∫‰ºöËØù‰πãÂâçÔºåÊúçÂä°Á´ØÈ¶ñÂÖà‰ºö‰∏∫ÊØè‰∏™ÂÆ¢Êà∑Á´ØÈÉΩÂàÜÈÖç‰∏Ä‰∏™ sessionID„ÄÇÁî±‰∫é sessionIDÊòØ ZooKeeper ‰ºöËØùÁöÑ‰∏Ä‰∏™ÈáçË¶ÅÊ†áËØÜÔºåËÆ∏Â§ö‰∏é‰ºöËØùÁõ∏ÂÖ≥ÁöÑËøêË°åÊú∫Âà∂ÈÉΩÊòØÂü∫‰∫éËøô‰∏™ sessionID ÁöÑÔºåÂõ†Ê≠§ÔºåÊó†ËÆ∫ÊòØÂì™Âè∞ÊúçÂä°Âô®‰∏∫ÂÆ¢Êà∑Á´ØÂàÜÈÖçÁöÑ sessionIDÔºåÈÉΩÂä°ÂøÖ‰øùËØÅÂÖ®Â±ÄÂîØ‰∏Ä„ÄÇ</p>
<h2 id="1-3-ZooKeeper-ÈõÜÁæ§"><a href="#1-3-ZooKeeper-ÈõÜÁæ§" class="headerlink" title="1.3  ZooKeeper ÈõÜÁæ§"></a>1.3  ZooKeeper ÈõÜÁæ§</h2><p>‰∏∫‰∫Ü‰øùËØÅÈ´òÂèØÁî®ÔºåÊúÄÂ•ΩÊòØ‰ª•ÈõÜÁæ§ÂΩ¢ÊÄÅÊù•ÈÉ®ÁΩ≤ ZooKeeperÔºåËøôÊ†∑Âè™Ë¶ÅÈõÜÁæ§‰∏≠Â§ßÈÉ®ÂàÜÊú∫Âô®ÊòØÂèØÁî®ÁöÑÔºàËÉΩÂ§üÂÆπÂøç‰∏ÄÂÆöÁöÑÊú∫Âô®ÊïÖÈöúÔºâÔºåÈÇ£‰πà ZooKeeper Êú¨Ë∫´‰ªçÁÑ∂ÊòØÂèØÁî®ÁöÑ„ÄÇÈÄöÂ∏∏ 3 Âè∞ÊúçÂä°Âô®Â∞±ÂèØ‰ª•ÊûÑÊàê‰∏Ä‰∏™ ZooKeeper ÈõÜÁæ§‰∫Ü„ÄÇZooKeeper ÂÆòÊñπÊèê‰æõÁöÑÊû∂ÊûÑÂõæÂ∞±ÊòØ‰∏Ä‰∏™ ZooKeeper ÈõÜÁæ§Êï¥‰ΩìÂØπÂ§ñÊèê‰æõÊúçÂä°„ÄÇ<br><img src="https://cdn.jsdelivr.net/gh/MapleFv/BolgImgs/202205251020361.png" alt="img"><br>‰∏äÂõæ‰∏≠ÊØè‰∏Ä‰∏™ Server ‰ª£Ë°®‰∏Ä‰∏™ÂÆâË£Ö ZooKeeper ÊúçÂä°ÁöÑÊúçÂä°Âô®„ÄÇÁªÑÊàê ZooKeeper ÊúçÂä°ÁöÑÊúçÂä°Âô®ÈÉΩ‰ºöÂú®ÂÜÖÂ≠ò‰∏≠Áª¥Êä§ÂΩìÂâçÁöÑÊúçÂä°Âô®Áä∂ÊÄÅÔºåÂπ∂‰∏îÊØèÂè∞ÊúçÂä°Âô®‰πãÈó¥ÈÉΩ‰∫íÁõ∏‰øùÊåÅÁùÄÈÄö‰ø°„ÄÇÈõÜÁæ§Èó¥ÈÄöËøá ZAB ÂçèËÆÆÔºàZooKeeper Atomic BroadcastÔºâÊù•‰øùÊåÅÊï∞ÊçÆÁöÑ‰∏ÄËá¥ÊÄß„ÄÇ<br><strong>ÊúÄÂÖ∏ÂûãÈõÜÁæ§Ê®°ÂºèÔºö Master&#x2F;Slave Ê®°ÂºèÔºà‰∏ªÂ§áÊ®°ÂºèÔºâ</strong>„ÄÇÂú®ËøôÁßçÊ®°Âºè‰∏≠ÔºåÈÄöÂ∏∏ Master ÊúçÂä°Âô®‰Ωú‰∏∫‰∏ªÊúçÂä°Âô®Êèê‰æõÂÜôÊúçÂä°ÔºåÂÖ∂‰ªñÁöÑ Slave ÊúçÂä°Âô®‰ªéÊúçÂä°Âô®ÈÄöËøáÂºÇÊ≠•Â§çÂà∂ÁöÑÊñπÂºèËé∑Âèñ Master ÊúçÂä°Âô®ÊúÄÊñ∞ÁöÑÊï∞ÊçÆÊèê‰æõËØªÊúçÂä°„ÄÇ</p>
<h3 id="1-3-1-ZooKeeper-ÈõÜÁæ§ËßíËâ≤"><a href="#1-3-1-ZooKeeper-ÈõÜÁæ§ËßíËâ≤" class="headerlink" title="1.3.1 ZooKeeper ÈõÜÁæ§ËßíËâ≤"></a>1.3.1 ZooKeeper ÈõÜÁæ§ËßíËâ≤</h3><p>‰ΩÜÊòØÔºåÂú® ZooKeeper ‰∏≠Ê≤°ÊúâÈÄâÊã©‰º†ÁªüÁöÑ Master&#x2F;Slave Ê¶ÇÂøµÔºåËÄåÊòØÂºïÂÖ•‰∫Ü Leader„ÄÅFollower Âíå Observer ‰∏âÁßçËßíËâ≤„ÄÇÂ¶Ç‰∏ãÂõæÊâÄÁ§∫<br><img src="https://cdn.jsdelivr.net/gh/MapleFv/BolgImgs/202205251021015.png" alt="img"><br>ZooKeeper ÈõÜÁæ§‰∏≠ÁöÑÊâÄÊúâÊú∫Âô®ÈÄöËøá‰∏Ä‰∏™ <strong>Leader ÈÄâ‰∏æËøáÁ®ã</strong> Êù•ÈÄâÂÆö‰∏ÄÂè∞Áß∞‰∏∫ ‚Äú<strong>Leader</strong>‚Äù ÁöÑÊú∫Âô®ÔºåLeader Êó¢ÂèØ‰ª•‰∏∫ÂÆ¢Êà∑Á´ØÊèê‰æõÂÜôÊúçÂä°ÂèàËÉΩÊèê‰æõËØªÊúçÂä°„ÄÇÈô§‰∫Ü Leader Â§ñÔºå<strong>Follower</strong> Âíå <strong>Observer</strong> ÈÉΩÂè™ËÉΩÊèê‰æõËØªÊúçÂä°„ÄÇFollower Âíå Observer ÂîØ‰∏ÄÁöÑÂå∫Âà´Âú®‰∫é Observer Êú∫Âô®‰∏çÂèÇ‰∏é Leader ÁöÑÈÄâ‰∏æËøáÁ®ãÔºå‰πü‰∏çÂèÇ‰∏éÂÜôÊìç‰ΩúÁöÑ‚ÄúËøáÂçäÂÜôÊàêÂäü‚ÄùÁ≠ñÁï•ÔºåÂõ†Ê≠§ Observer Êú∫Âô®ÂèØ‰ª•Âú®‰∏çÂΩ±ÂìçÂÜôÊÄßËÉΩÁöÑÊÉÖÂÜµ‰∏ãÊèêÂçáÈõÜÁæ§ÁöÑËØªÊÄßËÉΩ„ÄÇ</p>
<table>
<thead>
<tr>
<th>ËßíËâ≤</th>
<th>ËØ¥Êòé</th>
</tr>
</thead>
<tbody><tr>
<td>Leader</td>
<td>‰∏∫ÂÆ¢Êà∑Á´ØÊèê‰æõËØªÂíåÂÜôÁöÑÊúçÂä°ÔºåË¥üË¥£ÊäïÁ•®ÁöÑÂèëËµ∑ÂíåÂÜ≥ËÆÆÔºåÊõ¥Êñ∞Á≥ªÁªüÁä∂ÊÄÅ„ÄÇ</td>
</tr>
<tr>
<td>Follower</td>
<td>‰∏∫ÂÆ¢Êà∑Á´ØÊèê‰æõËØªÊúçÂä°ÔºåÂ¶ÇÊûúÊòØÂÜôÊúçÂä°ÂàôËΩ¨ÂèëÁªô Leader„ÄÇÂèÇ‰∏éÈÄâ‰∏æËøáÁ®ã‰∏≠ÁöÑÊäïÁ•®„ÄÇ</td>
</tr>
<tr>
<td>Observer</td>
<td>‰∏∫ÂÆ¢Êà∑Á´ØÊèê‰æõËØªÊúçÂä°ÔºåÂ¶ÇÊûúÊòØÂÜôÊúçÂä°ÂàôËΩ¨ÂèëÁªô Leader„ÄÇ‰∏çÂèÇ‰∏éÈÄâ‰∏æËøáÁ®ã‰∏≠ÁöÑÊäïÁ•®Ôºå‰πü‰∏çÂèÇ‰∏é‚ÄúËøáÂçäÂÜôÊàêÂäü‚ÄùÁ≠ñÁï•„ÄÇÂú®‰∏çÂΩ±ÂìçÂÜôÊÄßËÉΩÁöÑÊÉÖÂÜµ‰∏ãÊèêÂçáÈõÜÁæ§ÁöÑËØªÊÄßËÉΩ„ÄÇÊ≠§ËßíËâ≤‰∫é ZooKeeper3.3 Á≥ªÂàóÊñ∞Â¢ûÁöÑËßíËâ≤„ÄÇ</td>
</tr>
</tbody></table>
<p>ÂΩì Leader ÊúçÂä°Âô®Âá∫Áé∞ÁΩëÁªú‰∏≠Êñ≠„ÄÅÂ¥©Ê∫ÉÈÄÄÂá∫‰∏éÈáçÂêØÁ≠âÂºÇÂ∏∏ÊÉÖÂÜµÊó∂ÔºåÂ∞±‰ºöËøõÂÖ• Leader ÈÄâ‰∏æËøáÁ®ãÔºåËøô‰∏™ËøáÁ®ã‰ºöÈÄâ‰∏æ‰∫ßÁîüÊñ∞ÁöÑ Leader ÊúçÂä°Âô®„ÄÇ<br>Ëøô‰∏™ËøáÁ®ãÂ§ßËá¥ÊòØËøôÊ†∑ÁöÑÔºö</p>
<ol>
<li><strong>Leader electionÔºàÈÄâ‰∏æÈò∂ÊÆµÔºâ</strong>ÔºöËäÇÁÇπÂú®‰∏ÄÂºÄÂßãÈÉΩÂ§Ñ‰∫éÈÄâ‰∏æÈò∂ÊÆµÔºåÂè™Ë¶ÅÊúâ‰∏Ä‰∏™ËäÇÁÇπÂæóÂà∞Ë∂ÖÂçäÊï∞ËäÇÁÇπÁöÑÁ•®Êï∞ÔºåÂÆÉÂ∞±ÂèØ‰ª•ÂΩìÈÄâÂáÜ leader„ÄÇ</li>
<li><strong>DiscoveryÔºàÂèëÁé∞Èò∂ÊÆµÔºâ</strong> ÔºöÂú®Ëøô‰∏™Èò∂ÊÆµÔºåfollowers Ë∑üÂáÜ leader ËøõË°åÈÄö‰ø°ÔºåÂêåÊ≠• followers ÊúÄËøëÊé•Êî∂ÁöÑ‰∫ãÂä°ÊèêËÆÆ„ÄÇ</li>
<li><strong>SynchronizationÔºàÂêåÊ≠•Èò∂ÊÆµÔºâ</strong> :ÂêåÊ≠•Èò∂ÊÆµ‰∏ªË¶ÅÊòØÂà©Áî® leader Ââç‰∏ÄÈò∂ÊÆµËé∑ÂæóÁöÑÊúÄÊñ∞ÊèêËÆÆÂéÜÂè≤ÔºåÂêåÊ≠•ÈõÜÁæ§‰∏≠ÊâÄÊúâÁöÑÂâØÊú¨„ÄÇÂêåÊ≠•ÂÆåÊàê‰πãÂêé ÂáÜ leader Êâç‰ºöÊàê‰∏∫ÁúüÊ≠£ÁöÑ leader„ÄÇ</li>
<li><strong>BroadcastÔºàÂπøÊí≠Èò∂ÊÆµÔºâ</strong> :Âà∞‰∫ÜËøô‰∏™Èò∂ÊÆµÔºåZooKeeper ÈõÜÁæ§ÊâçËÉΩÊ≠£ÂºèÂØπÂ§ñÊèê‰æõ‰∫ãÂä°ÊúçÂä°ÔºåÂπ∂‰∏î leader ÂèØ‰ª•ËøõË°åÊ∂àÊÅØÂπøÊí≠„ÄÇÂêåÊó∂Â¶ÇÊûúÊúâÊñ∞ÁöÑËäÇÁÇπÂä†ÂÖ•ÔºåËøòÈúÄË¶ÅÂØπÊñ∞ËäÇÁÇπËøõË°åÂêåÊ≠•„ÄÇ</li>
</ol>
<h3 id="1-3-2-ZooKeeper-ÈõÜÁæ§‰∏≠ÁöÑÊúçÂä°Âô®Áä∂ÊÄÅ"><a href="#1-3-2-ZooKeeper-ÈõÜÁæ§‰∏≠ÁöÑÊúçÂä°Âô®Áä∂ÊÄÅ" class="headerlink" title="1.3.2 ZooKeeper ÈõÜÁæ§‰∏≠ÁöÑÊúçÂä°Âô®Áä∂ÊÄÅ"></a>1.3.2 ZooKeeper ÈõÜÁæ§‰∏≠ÁöÑÊúçÂä°Âô®Áä∂ÊÄÅ</h3><ul>
<li><strong>LOOKING</strong> ÔºöÂØªÊâæ Leader„ÄÇ</li>
<li><strong>LEADING</strong> ÔºöLeader Áä∂ÊÄÅÔºåÂØπÂ∫îÁöÑËäÇÁÇπ‰∏∫ Leader„ÄÇ</li>
<li><strong>FOLLOWING</strong> ÔºöFollower Áä∂ÊÄÅÔºåÂØπÂ∫îÁöÑËäÇÁÇπ‰∏∫ Follower„ÄÇ</li>
<li><strong>OBSERVING</strong> ÔºöObserver Áä∂ÊÄÅÔºåÂØπÂ∫îËäÇÁÇπ‰∏∫ ObserverÔºåËØ•ËäÇÁÇπ‰∏çÂèÇ‰∏é Leader ÈÄâ‰∏æ„ÄÇ<h3 id="1-3-3-ZooKeeper-ÈÄâ‰∏æÁöÑËøáÂçäÊú∫Âà∂Èò≤Ê≠¢ËÑëË£Ç"><a href="#1-3-3-ZooKeeper-ÈÄâ‰∏æÁöÑËøáÂçäÊú∫Âà∂Èò≤Ê≠¢ËÑëË£Ç" class="headerlink" title="1.3.3 ZooKeeper ÈÄâ‰∏æÁöÑËøáÂçäÊú∫Âà∂Èò≤Ê≠¢ËÑëË£Ç"></a>1.3.3 ZooKeeper ÈÄâ‰∏æÁöÑËøáÂçäÊú∫Âà∂Èò≤Ê≠¢ËÑëË£Ç</h3></li>
</ul>
<p><strong>‰Ωï‰∏∫ÈõÜÁæ§ËÑëË£ÇÔºü</strong><br>ÂØπ‰∫é‰∏Ä‰∏™ÈõÜÁæ§ÔºåÈÄöÂ∏∏Â§öÂè∞Êú∫Âô®‰ºöÈÉ®ÁΩ≤Âú®‰∏çÂêåÊú∫ÊàøÔºåÊù•ÊèêÈ´òËøô‰∏™ÈõÜÁæ§ÁöÑÂèØÁî®ÊÄß„ÄÇ‰øùËØÅÂèØÁî®ÊÄßÁöÑÂêåÊó∂Ôºå‰ºöÂèëÁîü‰∏ÄÁßçÊú∫ÊàøÈó¥ÁΩëÁªúÁ∫øË∑ØÊïÖÈöúÔºåÂØºËá¥Êú∫ÊàøÈó¥ÁΩëÁªú‰∏çÈÄöÔºåËÄåÈõÜÁæ§Ë¢´Ââ≤Ë£ÇÊàêÂá†‰∏™Â∞èÈõÜÁæ§„ÄÇËøôÊó∂ÂÄôÂ≠êÈõÜÁæ§ÂêÑËá™ÈÄâ‰∏ªÂØºËá¥‚ÄúËÑëË£Ç‚ÄùÁöÑÊÉÖÂÜµ„ÄÇ<br><strong>ËøáÂçäÊú∫Âà∂ÊòØÂ¶Ç‰ΩïÈò≤Ê≠¢ËÑëË£ÇÁé∞Ë±°‰∫ßÁîüÁöÑÔºü</strong><br>ZooKeeper ÁöÑËøáÂçäÊú∫Âà∂ÂØºËá¥‰∏çÂèØËÉΩ‰∫ßÁîü 2 ‰∏™ leaderÔºåÂõ†‰∏∫Â∞ë‰∫éÁ≠â‰∫é‰∏ÄÂçäÊòØ‰∏çÂèØËÉΩ‰∫ßÁîü leader ÁöÑÔºåËøôÂ∞±‰ΩøÂæó‰∏çËÆ∫Êú∫ÊàøÁöÑÊú∫Âô®Â¶Ç‰ΩïÂàÜÈÖçÈÉΩ‰∏çÂèØËÉΩÂèëÁîüËÑëË£Ç„ÄÇ</p>
<h2 id="1-4-ZAB-ÂçèËÆÆÂíå-Paxos-ÁÆóÊ≥ï"><a href="#1-4-ZAB-ÂçèËÆÆÂíå-Paxos-ÁÆóÊ≥ï" class="headerlink" title="1.4 ZAB ÂçèËÆÆÂíå Paxos ÁÆóÊ≥ï"></a>1.4 ZAB ÂçèËÆÆÂíå Paxos ÁÆóÊ≥ï</h2><p>Paxos ÁÆóÊ≥ïÂ∫îËØ•ÂèØ‰ª•ËØ¥ÊòØ ZooKeeper ÁöÑÁÅµÈ≠Ç‰∫Ü„ÄÇ‰ΩÜÊòØÔºåZooKeeper Âπ∂Ê≤°ÊúâÂÆåÂÖ®ÈááÁî® Paxos ÁÆóÊ≥ï ÔºåËÄåÊòØ‰ΩøÁî® PaxosÁÆóÊ≥ïÁöÑZAB ÂçèËÆÆ‰Ωú‰∏∫ÂÖ∂‰øùËØÅÊï∞ÊçÆ‰∏ÄËá¥ÊÄßÁöÑÊ†∏ÂøÉÁÆóÊ≥ï„ÄÇÂè¶Â§ñÔºåÂú® ZooKeeper ÁöÑÂÆòÊñπÊñáÊ°£‰∏≠‰πüÊåáÂá∫ÔºåZAB ÂçèËÆÆÂπ∂‰∏çÂÉè Paxos ÁÆóÊ≥ïÈÇ£Ê†∑ÔºåÊòØ‰∏ÄÁßçÈÄöÁî®ÁöÑÂàÜÂ∏ÉÂºè‰∏ÄËá¥ÊÄßÁÆóÊ≥ïÔºåÂÆÉÊòØ‰∏ÄÁßçÁâπÂà´‰∏∫ Zookeeper ËÆæËÆ°ÁöÑÂ¥©Ê∫ÉÂèØÊÅ¢Â§çÁöÑÂéüÂ≠êÊ∂àÊÅØÂπøÊí≠ÁÆóÊ≥ï„ÄÇ</p>
<h3 id="1-4-1-ZAB-ÂçèËÆÆ‰ªãÁªç"><a href="#1-4-1-ZAB-ÂçèËÆÆ‰ªãÁªç" class="headerlink" title="1.4.1 ZAB ÂçèËÆÆ‰ªãÁªç"></a>1.4.1 ZAB ÂçèËÆÆ‰ªãÁªç</h3><p>ZABÔºàZooKeeper Atomic Broadcast ÂéüÂ≠êÂπøÊí≠Ôºâ ÂçèËÆÆÊòØ‰∏∫<strong>ÂàÜÂ∏ÉÂºèÂçèË∞ÉÊúçÂä° ZooKeeper</strong> ‰∏ìÈó®ËÆæËÆ°ÁöÑ‰∏ÄÁßçÊîØÊåÅÂ¥©Ê∫ÉÊÅ¢Â§çÁöÑÂéüÂ≠êÂπøÊí≠ÂçèËÆÆ„ÄÇ Âú® ZooKeeper ‰∏≠Ôºå‰∏ªË¶Å‰æùËµñ ZAB ÂçèËÆÆÊù•ÂÆûÁé∞ÂàÜÂ∏ÉÂºèÊï∞ÊçÆ‰∏ÄËá¥ÊÄßÔºåÂü∫‰∫éËØ•ÂçèËÆÆÔºåZooKeeper ÂÆûÁé∞‰∫Ü‰∏ÄÁßç‰∏ªÂ§áÊ®°ÂºèÁöÑÁ≥ªÁªüÊû∂ÊûÑÊù•‰øùÊåÅÈõÜÁæ§‰∏≠ÂêÑ‰∏™ÂâØÊú¨‰πãÈó¥ÁöÑ<strong>Êï∞ÊçÆ‰∏ÄËá¥ÊÄß</strong>„ÄÇ</p>
<h3 id="1-4-2-ZAB-ÂçèËÆÆ‰∏§ÁßçÂü∫Êú¨ÁöÑÊ®°ÂºèÔºöÂ¥©Ê∫ÉÊÅ¢Â§çÂíåÊ∂àÊÅØÂπøÊí≠"><a href="#1-4-2-ZAB-ÂçèËÆÆ‰∏§ÁßçÂü∫Êú¨ÁöÑÊ®°ÂºèÔºöÂ¥©Ê∫ÉÊÅ¢Â§çÂíåÊ∂àÊÅØÂπøÊí≠" class="headerlink" title="1.4.2 ZAB ÂçèËÆÆ‰∏§ÁßçÂü∫Êú¨ÁöÑÊ®°ÂºèÔºöÂ¥©Ê∫ÉÊÅ¢Â§çÂíåÊ∂àÊÅØÂπøÊí≠"></a>1.4.2 ZAB ÂçèËÆÆ‰∏§ÁßçÂü∫Êú¨ÁöÑÊ®°ÂºèÔºöÂ¥©Ê∫ÉÊÅ¢Â§çÂíåÊ∂àÊÅØÂπøÊí≠</h3><ul>
<li><strong>Â¥©Ê∫ÉÊÅ¢Â§ç</strong> ÔºöÂΩìÊï¥‰∏™ÊúçÂä°Ê°ÜÊû∂Âú®ÂêØÂä®ËøáÁ®ã‰∏≠ÔºåÊàñÊòØÂΩì Leader ÊúçÂä°Âô®Âá∫Áé∞ÁΩëÁªú‰∏≠Êñ≠„ÄÅÂ¥©Ê∫ÉÈÄÄÂá∫‰∏éÈáçÂêØÁ≠âÂºÇÂ∏∏ÊÉÖÂÜµÊó∂ÔºåZAB ÂçèËÆÆÂ∞±‰ºöËøõÂÖ•ÊÅ¢Â§çÊ®°ÂºèÂπ∂ÈÄâ‰∏æ‰∫ßÁîüÊñ∞ÁöÑ Leader ÊúçÂä°Âô®„ÄÇÂΩìÈÄâ‰∏æ‰∫ßÁîü‰∫ÜÊñ∞ÁöÑ Leader ÊúçÂä°Âô®ÔºåÂêåÊó∂ÈõÜÁæ§‰∏≠Â∑≤ÁªèÊúâËøáÂçäÁöÑÊú∫Âô®‰∏éËØ• Leader ÊúçÂä°Âô®ÂÆåÊàê‰∫ÜÁä∂ÊÄÅÂêåÊ≠•‰πãÂêéÔºåZAB ÂçèËÆÆÂ∞±‰ºöÈÄÄÂá∫ÊÅ¢Â§çÊ®°Âºè„ÄÇÂÖ∂‰∏≠Ôºå<strong>ÊâÄË∞ìÁöÑÁä∂ÊÄÅÂêåÊ≠•ÊòØÊåáÊï∞ÊçÆÂêåÊ≠•ÔºåÁî®Êù•‰øùËØÅÈõÜÁæ§‰∏≠Â≠òÂú®ËøáÂçäÁöÑÊú∫Âô®ËÉΩÂ§üÂíå Leader ÊúçÂä°Âô®ÁöÑÊï∞ÊçÆÁä∂ÊÄÅ‰øùÊåÅ‰∏ÄËá¥</strong>„ÄÇ</li>
<li><strong>Ê∂àÊÅØÂπøÊí≠</strong> Ôºö<strong>ÂΩìÈõÜÁæ§‰∏≠Â∑≤ÁªèÊúâËøáÂçäÁöÑ Follower ÊúçÂä°Âô®ÂÆåÊàê‰∫ÜÂíå Leader ÊúçÂä°Âô®ÁöÑÁä∂ÊÄÅÂêåÊ≠•ÔºåÈÇ£‰πàÊï¥‰∏™ÊúçÂä°Ê°ÜÊû∂Â∞±ÂèØ‰ª•ËøõÂÖ•Ê∂àÊÅØÂπøÊí≠Ê®°Âºè‰∫Ü„ÄÇ</strong> ÂΩì‰∏ÄÂè∞ÂêåÊ†∑ÈÅµÂÆà ZAB ÂçèËÆÆÁöÑÊúçÂä°Âô®ÂêØÂä®ÂêéÂä†ÂÖ•Âà∞ÈõÜÁæ§‰∏≠Êó∂ÔºåÂ¶ÇÊûúÊ≠§Êó∂ÈõÜÁæ§‰∏≠Â∑≤ÁªèÂ≠òÂú®‰∏Ä‰∏™ Leader ÊúçÂä°Âô®Âú®Ë¥üË¥£ËøõË°åÊ∂àÊÅØÂπøÊí≠ÔºåÈÇ£‰πàÊñ∞Âä†ÂÖ•ÁöÑÊúçÂä°Âô®Â∞±‰ºöËá™ËßâÂú∞ËøõÂÖ•Êï∞ÊçÆÊÅ¢Â§çÊ®°ÂºèÔºöÊâæÂà∞ Leader ÊâÄÂú®ÁöÑÊúçÂä°Âô®ÔºåÂπ∂‰∏éÂÖ∂ËøõË°åÊï∞ÊçÆÂêåÊ≠•ÔºåÁÑ∂Âêé‰∏ÄËµ∑ÂèÇ‰∏éÂà∞Ê∂àÊÅØÂπøÊí≠ÊµÅÁ®ã‰∏≠Âéª„ÄÇ<h2 id="1-5-ÊÄªÁªì"><a href="#1-5-ÊÄªÁªì" class="headerlink" title="1.5 ÊÄªÁªì"></a>1.5 ÊÄªÁªì</h2></li>
</ul>
<ol>
<li>ZooKeeper Êú¨Ë∫´Â∞±ÊòØ‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÁ®ãÂ∫èÔºàÂè™Ë¶ÅÂçäÊï∞‰ª•‰∏äËäÇÁÇπÂ≠òÊ¥ªÔºåZooKeeper Â∞±ËÉΩÊ≠£Â∏∏ÊúçÂä°Ôºâ„ÄÇ</li>
<li>‰∏∫‰∫Ü‰øùËØÅÈ´òÂèØÁî®ÔºåÊúÄÂ•ΩÊòØ‰ª•ÈõÜÁæ§ÂΩ¢ÊÄÅÊù•ÈÉ®ÁΩ≤ ZooKeeperÔºåËøôÊ†∑Âè™Ë¶ÅÈõÜÁæ§‰∏≠Â§ßÈÉ®ÂàÜÊú∫Âô®ÊòØÂèØÁî®ÁöÑÔºàËÉΩÂ§üÂÆπÂøç‰∏ÄÂÆöÁöÑÊú∫Âô®ÊïÖÈöúÔºâÔºåÈÇ£‰πà ZooKeeper Êú¨Ë∫´‰ªçÁÑ∂ÊòØÂèØÁî®ÁöÑ„ÄÇ</li>
<li>ZooKeeper Â∞ÜÊï∞ÊçÆ‰øùÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ÔºåËøô‰πüÂ∞±‰øùËØÅ‰∫Ü È´òÂêûÂêêÈáèÂíå‰ΩéÂª∂ËøüÔºà‰ΩÜÊòØÂÜÖÂ≠òÈôêÂà∂‰∫ÜËÉΩÂ§üÂ≠òÂÇ®ÁöÑÂÆπÈáè‰∏çÂ§™Â§ßÔºåÊ≠§ÈôêÂà∂‰πüÊòØ‰øùÊåÅ znode ‰∏≠Â≠òÂÇ®ÁöÑÊï∞ÊçÆÈáèËæÉÂ∞èÁöÑËøõ‰∏ÄÊ≠•ÂéüÂõ†Ôºâ„ÄÇ</li>
<li>ZooKeeper ÊòØÈ´òÊÄßËÉΩÁöÑ„ÄÇ Âú®‚ÄúËØª‚ÄùÂ§ö‰∫é‚ÄúÂÜô‚ÄùÁöÑÂ∫îÁî®Á®ãÂ∫è‰∏≠Â∞§ÂÖ∂Âú∞ÊòéÊòæÔºåÂõ†‰∏∫‚ÄúÂÜô‚Äù‰ºöÂØºËá¥ÊâÄÊúâÁöÑÊúçÂä°Âô®Èó¥ÂêåÊ≠•Áä∂ÊÄÅ„ÄÇÔºà‚ÄúËØª‚ÄùÂ§ö‰∫é‚ÄúÂÜô‚ÄùÊòØÂçèË∞ÉÊúçÂä°ÁöÑÂÖ∏ÂûãÂú∫ÊôØ„ÄÇÔºâ</li>
<li>ZooKeeper Êúâ‰∏¥Êó∂ËäÇÁÇπÁöÑÊ¶ÇÂøµ„ÄÇ ÂΩìÂàõÂª∫‰∏¥Êó∂ËäÇÁÇπÁöÑÂÆ¢Êà∑Á´Ø‰ºöËØù‰∏ÄÁõ¥‰øùÊåÅÊ¥ªÂä®ÔºåÁû¨Êó∂ËäÇÁÇπÂ∞±‰∏ÄÁõ¥Â≠òÂú®„ÄÇËÄåÂΩì‰ºöËØùÁªàÁªìÊó∂ÔºåÁû¨Êó∂ËäÇÁÇπË¢´Âà†Èô§„ÄÇÊåÅ‰πÖËäÇÁÇπÊòØÊåá‰∏ÄÊó¶Ëøô‰∏™ znode Ë¢´ÂàõÂª∫‰∫ÜÔºåÈô§Èùû‰∏ªÂä®ËøõË°å znode ÁöÑÁßªÈô§Êìç‰ΩúÔºåÂê¶ÂàôËøô‰∏™ znode Â∞Ü‰∏ÄÁõ¥‰øùÂ≠òÂú® ZooKeeper ‰∏ä„ÄÇ</li>
<li>ZooKeeper Â∫ïÂ±ÇÂÖ∂ÂÆûÂè™Êèê‰æõ‰∫Ü‰∏§‰∏™ÂäüËÉΩÔºö‚ë† ÁÆ°ÁêÜÔºàÂ≠òÂÇ®„ÄÅËØªÂèñÔºâÁî®Êà∑Á®ãÂ∫èÊèê‰∫§ÁöÑÊï∞ÊçÆÔºõ‚ë° ‰∏∫Áî®Êà∑Á®ãÂ∫èÊèê‰æõÊï∞ÊçÆËäÇÁÇπÁõëÂê¨ÊúçÂä°„ÄÇ</li>
</ol>
<h1 id="2-ZooKeeper-Áõ∏ÂÖ≥Ê¶ÇÂøµÊÄªÁªì-ËøõÈò∂"><a href="#2-ZooKeeper-Áõ∏ÂÖ≥Ê¶ÇÂøµÊÄªÁªì-ËøõÈò∂" class="headerlink" title="2 ZooKeeper Áõ∏ÂÖ≥Ê¶ÇÂøµÊÄªÁªì(ËøõÈò∂)"></a>2 ZooKeeper Áõ∏ÂÖ≥Ê¶ÇÂøµÊÄªÁªì(ËøõÈò∂)</h1><h2 id="2-1-‰∏ÄËá¥ÊÄßÈóÆÈ¢ò"><a href="#2-1-‰∏ÄËá¥ÊÄßÈóÆÈ¢ò" class="headerlink" title="2.1 ‰∏ÄËá¥ÊÄßÈóÆÈ¢ò"></a>2.1 ‰∏ÄËá¥ÊÄßÈóÆÈ¢ò</h2><p>ËÆæËÆ°‰∏Ä‰∏™ÂàÜÂ∏ÉÂºèÁ≥ªÁªüÂøÖÂÆö‰ºöÈÅáÂà∞‰∏Ä‰∏™ÈóÆÈ¢ò‚Äî‚Äî <strong>Âõ†‰∏∫ÂàÜÂå∫ÂÆπÂøçÊÄßÔºàpartition toleranceÔºâÁöÑÂ≠òÂú®ÔºåÂ∞±ÂøÖÂÆöË¶ÅÊ±ÇÊàë‰ª¨ÈúÄË¶ÅÂú®Á≥ªÁªüÂèØÁî®ÊÄßÔºàavailabilityÔºâÂíåÊï∞ÊçÆ‰∏ÄËá¥ÊÄßÔºàconsistencyÔºâ‰∏≠ÂÅöÂá∫ÊùÉË°°</strong> „ÄÇËøôÂ∞±ÊòØËëóÂêçÁöÑ CAP ÂÆöÁêÜ„ÄÇ</p>
<h2 id="2-2-‰∏ÄËá¥ÊÄßÂçèËÆÆÂíåÁÆóÊ≥ï"><a href="#2-2-‰∏ÄËá¥ÊÄßÂçèËÆÆÂíåÁÆóÊ≥ï" class="headerlink" title="2.2 ‰∏ÄËá¥ÊÄßÂçèËÆÆÂíåÁÆóÊ≥ï"></a>2.2 ‰∏ÄËá¥ÊÄßÂçèËÆÆÂíåÁÆóÊ≥ï</h2><p>ËÄå‰∏∫‰∫ÜËß£ÂÜ≥Êï∞ÊçÆ‰∏ÄËá¥ÊÄßÈóÆÈ¢òÔºåÂú®ÁßëÂ≠¶ÂÆ∂ÂíåÁ®ãÂ∫èÂëòÁöÑ‰∏çÊñ≠Êé¢Á¥¢‰∏≠ÔºåÂ∞±Âá∫Áé∞‰∫ÜÂæàÂ§öÁöÑ‰∏ÄËá¥ÊÄßÂçèËÆÆÂíåÁÆóÊ≥ï„ÄÇÊØîÂ¶Ç 2PCÔºà‰∏§Èò∂ÊÆµÊèê‰∫§ÔºâÔºå3PCÔºà‰∏âÈò∂ÊÆµÊèê‰∫§ÔºâÔºåPaxosÁÆóÊ≥ïÁ≠âÁ≠â„ÄÇ</p>
<blockquote>
<p>ËØ∑‰Ω†ÊÄùËÄÉ‰∏Ä‰∏™ÈóÆÈ¢òÔºåÂêåÂ≠¶‰πãÈó¥Â¶ÇÊûúÈááÁî®‰º†Á∫∏Êù°ÁöÑÊñπÂºèÂéª‰º†Êí≠Ê∂àÊÅØÔºåÈÇ£‰πàÂ∞±‰ºöÂá∫Áé∞‰∏Ä‰∏™ÈóÆÈ¢ò‚Äî‚ÄîÊàëÂíãÁü•ÈÅìÊàëÁöÑÂ∞èÁ∫∏Êù°ÊúâÊ≤°Êúâ‰º†Âà∞ÊàëÊÉ≥Ë¶Å‰º†ÈÄíÁöÑÈÇ£‰∏™‰∫∫Êâã‰∏≠Âë¢Ôºü‰∏á‰∏ÄË¢´Âì™‰∏™Â∞èÂÆ∂‰ºôÁªôÂä´ÊåÅÁØ°Êîπ‰∫ÜÂë¢ÔºåÂØπÂêßÔºü</p>
</blockquote>
<p>Ëøô‰∏™Êó∂ÂÄôÂ∞±ÂºïÁî≥Âá∫‰∏Ä‰∏™Ê¶ÇÂøµ‚Äî‚Äî <strong>ÊãúÂç†Â∫≠Â∞ÜÂÜõÈóÆÈ¢ò</strong> „ÄÇÂÆÉÊÑèÊåá <strong>Âú®‰∏çÂèØÈù†‰ø°ÈÅì‰∏äËØïÂõæÈÄöËøáÊ∂àÊÅØ‰º†ÈÄíÁöÑÊñπÂºèËææÂà∞‰∏ÄËá¥ÊÄßÊòØ‰∏çÂèØËÉΩÁöÑ</strong>Ôºå ÊâÄ‰ª•ÊâÄÊúâÁöÑ‰∏ÄËá¥ÊÄßÁÆóÊ≥ïÁöÑ <strong>ÂøÖË¶ÅÂâçÊèê</strong> Â∞±ÊòØÂÆâÂÖ®ÂèØÈù†ÁöÑÊ∂àÊÅØÈÄöÈÅì„ÄÇ</p>
<p>ËÄå‰∏∫‰ªÄ‰πàË¶ÅÂéªËß£ÂÜ≥Êï∞ÊçÆ‰∏ÄËá¥ÊÄßÁöÑÈóÆÈ¢òÔºü‰Ω†ÊÉ≥ÊÉ≥ÔºåÂ¶ÇÊûú‰∏Ä‰∏™ÁßíÊùÄÁ≥ªÁªüÂ∞ÜÊúçÂä°ÊãÜÂàÜÊàê‰∫Ü‰∏ãËÆ¢ÂçïÂíåÂä†ÁßØÂàÜÊúçÂä°ÔºåËøô‰∏§‰∏™ÊúçÂä°ÈÉ®ÁΩ≤Âú®‰∏çÂêåÁöÑÊú∫Âô®‰∏ä‰∫ÜÔºå‰∏á‰∏ÄÂú®Ê∂àÊÅØÁöÑ‰º†Êí≠ËøáÁ®ã‰∏≠ÁßØÂàÜÁ≥ªÁªüÂÆïÊú∫‰∫ÜÔºåÊÄª‰∏çËÉΩ‰Ω†ËøôËæπ‰∏ã‰∫ÜËÆ¢ÂçïÂç¥Ê≤°Âä†ÁßØÂàÜÂêßÔºü‰Ω†ÊÄªÂæó‰øùËØÅ‰∏§ËæπÁöÑÊï∞ÊçÆÈúÄË¶Å‰∏ÄËá¥ÂêßÔºü</p>
<h3 id="2-2-1-2PCÔºà‰∏§Èò∂ÊÆµÊèê‰∫§Ôºâ"><a href="#2-2-1-2PCÔºà‰∏§Èò∂ÊÆµÊèê‰∫§Ôºâ" class="headerlink" title="2.2.1 2PCÔºà‰∏§Èò∂ÊÆµÊèê‰∫§Ôºâ"></a>2.2.1 2PCÔºà‰∏§Èò∂ÊÆµÊèê‰∫§Ôºâ</h3><p>‰∏§Èò∂ÊÆµÊèê‰∫§ÊòØ‰∏ÄÁßç‰øùËØÅÂàÜÂ∏ÉÂºèÁ≥ªÁªüÊï∞ÊçÆ‰∏ÄËá¥ÊÄßÁöÑÂçèËÆÆÔºåÁé∞Âú®ÂæàÂ§öÊï∞ÊçÆÂ∫ìÈÉΩÊòØÈááÁî®ÁöÑ‰∏§Èò∂ÊÆµÊèê‰∫§ÂçèËÆÆÊù•ÂÆåÊàê <strong>ÂàÜÂ∏ÉÂºè‰∫ãÂä°</strong> ÁöÑÂ§ÑÁêÜ„ÄÇ</p>
<blockquote>
<p>‰ª•ÁßíÊùÄÁ≥ªÁªüÁöÑ‰∏ãÂçïÂíåÂä†ÁßØÂàÜ‰∏§‰∏™Á≥ªÁªüÊù•‰∏æ‰æãÔºåÊàë‰ª¨Ê≠§Êó∂‰∏ãÂÆåËÆ¢Âçï‰ºöÂèë‰∏™Ê∂àÊÅØÁªôÁßØÂàÜÁ≥ªÁªüÂëäËØâÂÆÉ‰∏ãÈù¢ËØ•Â¢ûÂä†ÁßØÂàÜ‰∫Ü„ÄÇÂ¶ÇÊûúÊàë‰ª¨‰ªÖ‰ªÖÊòØÂèëÈÄÅ‰∏Ä‰∏™Ê∂àÊÅØ‰πü‰∏çÊî∂ÂõûÂ§çÔºåÈÇ£‰πàÊàë‰ª¨ÁöÑËÆ¢ÂçïÁ≥ªÁªüÊÄé‰πàËÉΩÁü•ÈÅìÁßØÂàÜÁ≥ªÁªüÁöÑÊî∂Âà∞Ê∂àÊÅØÁöÑÊÉÖÂÜµÂë¢ÔºüÂ¶ÇÊûúÊàë‰ª¨Â¢ûÂä†‰∏Ä‰∏™Êî∂ÂõûÂ§çÁöÑËøáÁ®ãÔºåÈÇ£‰πàÂΩìÁßØÂàÜÁ≥ªÁªüÊî∂Âà∞Ê∂àÊÅØÂêéËøîÂõûÁªôËÆ¢ÂçïÁ≥ªÁªü‰∏Ä‰∏™ Response Ôºå‰ΩÜÂú®‰∏≠Èó¥Âá∫Áé∞‰∫ÜÁΩëÁªúÊ≥¢Âä®ÔºåÈÇ£‰∏™ÂõûÂ§çÊ∂àÊÅØÊ≤°ÊúâÂèëÈÄÅÊàêÂäüÔºåËÆ¢ÂçïÁ≥ªÁªüÊòØ‰∏çÊòØ‰ª•‰∏∫ÁßØÂàÜÁ≥ªÁªüÊ∂àÊÅØÊé•Êî∂Â§±Ë¥•‰∫ÜÔºüÂÆÉÊòØ‰∏çÊòØ‰ºöÂõûÊªö‰∫ãÂä°Ôºü‰ΩÜÊ≠§Êó∂ÁßØÂàÜÁ≥ªÁªüÊòØÊàêÂäüÊî∂Âà∞Ê∂àÊÅØÁöÑÔºåÂÆÉÂ∞±‰ºöÂéªÂ§ÑÁêÜÊ∂àÊÅØÁÑ∂ÂêéÁªôÁî®Êà∑Â¢ûÂä†ÁßØÂàÜÔºåËøô‰∏™Êó∂ÂÄôÂ∞±‰ºöÂá∫Áé∞ÁßØÂàÜÂä†‰∫Ü‰ΩÜÊòØËÆ¢ÂçïÊ≤°‰∏ãÊàêÂäü„ÄÇ</p>
</blockquote>
<p>ÊâÄ‰ª•Êàë‰ª¨ÊâÄÈúÄË¶ÅËß£ÂÜ≥ÁöÑÊòØÂú®ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠ÔºåÊï¥‰∏™Ë∞ÉÁî®Èìæ‰∏≠ÔºåÊàë‰ª¨ÊâÄÊúâÊúçÂä°ÁöÑÊï∞ÊçÆÂ§ÑÁêÜË¶Å‰πàÈÉΩÊàêÂäüË¶Å‰πàÈÉΩÂ§±Ë¥•ÔºåÂç≥ÊâÄÊúâÊúçÂä°ÁöÑ <strong>ÂéüÂ≠êÊÄßÈóÆÈ¢ò</strong> „ÄÇ</p>
<p>Âú®‰∏§Èò∂ÊÆµÊèê‰∫§‰∏≠Ôºå‰∏ªË¶ÅÊ∂âÂèäÂà∞‰∏§‰∏™ËßíËâ≤ÔºåÂàÜÂà´ÊòØÂçèË∞ÉËÄÖÂíåÂèÇ‰∏éËÄÖ„ÄÇ<br>Á¨¨‰∏ÄÈò∂ÊÆµÔºö‰∫ãÂä°ÂèëËµ∑ËÄÖÂêëÂçèË∞ÉËÄÖÂèëËµ∑‰∫ãÂä°ËØ∑Ê±ÇÔºåÂçèË∞ÉËÄÖÂêëÂèÇ‰∏éËÄÖÂèëÈÄÅËØ∑Ê±ÇÔºåÂèÇ‰∏éËÄÖÊâßË°å‰∫ãÂä°‰ΩÜ‰∏çÊèê‰∫§ÔºåÂπ∂Â∞ÜundoÂíåRedo‰ø°ÊÅØËÆ∞ÂÖ•‰∫ãÂä°Êó•Âøó‰∏≠ÔºåÂêëÂçèË∞ÉËÄÖËøîÂõûÊòØÂê¶ÂáÜÂ§áÂ•Ω‰∫ÜÔºõ<br>Á¨¨‰∫åÈò∂ÊÆµÔºöÂçèË∞ÉËÄÖÊ†πÊçÆÂèÇ‰∏éËÄÖÂèçÈ¶àÂÜ≥ÂÆöÊòØËøõË°å‰∫ãÂä°ÁöÑÊèê‰∫§Êìç‰ΩúÔºåÂç≥Êèê‰∫§‰∫ãÂä°ÊàñËÄÖÂõûÊªö‰∫ãÂä°Ôºõ<br>Â¶ÇÊûúÁ¨¨‰∏ÄÈò∂ÊÆµ‰∏çÊòØÊâÄÊúâÂèÇ‰∏éËÄÖÈÉΩËøîÂõû‰∫ÜÊ∂àÊÅØÔºåÂçèË∞ÉËÄÖÂ∞Ü‰ºöÁªôÊâÄÊúâÂèÇ‰∏éËÄÖÂèëÈÄÅ <strong>ÂõûÊªö‰∫ãÂä°ÁöÑ rollback ËØ∑Ê±Ç</strong>ÔºåÂèÇ‰∏éËÄÖÊî∂Âà∞‰πãÂêéÂ∞Ü‰ºö <strong>ÂõûÊªöÂÆÉÂú®Á¨¨‰∏ÄÈò∂ÊÆµÊâÄÂÅöÁöÑ‰∫ãÂä°Â§ÑÁêÜ</strong> ÔºåÁÑ∂ÂêéÂÜçÂ∞ÜÂ§ÑÁêÜÊÉÖÂÜµËøîÂõûÁªôÂçèË∞ÉËÄÖÔºåÊúÄÁªàÂçèË∞ÉËÄÖÊî∂Âà∞ÂìçÂ∫îÂêé‰æøÁªô‰∫ãÂä°ÂèëËµ∑ËÄÖËøîÂõûÂ§ÑÁêÜÂ§±Ë¥•ÁöÑÁªìÊûú„ÄÇ<br>2PC ÂÆûÁé∞ÂæóËøòÊòØÊØîËæÉÈ∏°ËÇãÁöÑÔºåÂõ†‰∏∫‰∫ãÂÆû‰∏äÂÆÉÂè™Ëß£ÂÜ≥‰∫ÜÂêÑ‰∏™‰∫ãÂä°ÁöÑÂéüÂ≠êÊÄßÈóÆÈ¢òÔºåÈöè‰πã‰πüÂ∏¶Êù•‰∫ÜÂæàÂ§öÁöÑÈóÆÈ¢ò„ÄÇ</p>
<ul>
<li><strong>ÂçïÁÇπÊïÖÈöúÈóÆÈ¢ò</strong>ÔºåÂ¶ÇÊûúÂçèË∞ÉËÄÖÊåÇ‰∫ÜÈÇ£‰πàÊï¥‰∏™Á≥ªÁªüÈÉΩÂ§Ñ‰∫é‰∏çÂèØÁî®ÁöÑÁä∂ÊÄÅ‰∫Ü„ÄÇ</li>
<li><strong>ÈòªÂ°ûÈóÆÈ¢ò</strong>ÔºåÂç≥ÂΩìÂçèË∞ÉËÄÖÂèëÈÄÅ prepare ËØ∑Ê±ÇÔºåÂèÇ‰∏éËÄÖÊî∂Âà∞‰πãÂêéÂ¶ÇÊûúËÉΩÂ§ÑÁêÜÈÇ£‰πàÂÆÉÂ∞Ü‰ºöËøõË°å‰∫ãÂä°ÁöÑÂ§ÑÁêÜ‰ΩÜÂπ∂‰∏çÊèê‰∫§ÔºåËøô‰∏™Êó∂ÂÄô‰ºö‰∏ÄÁõ¥Âç†Áî®ÁùÄËµÑÊ∫ê‰∏çÈáäÊîæÔºåÂ¶ÇÊûúÊ≠§Êó∂ÂçèË∞ÉËÄÖÊåÇ‰∫ÜÔºåÈÇ£‰πàËøô‰∫õËµÑÊ∫êÈÉΩ‰∏ç‰ºöÂÜçÈáäÊîæ‰∫ÜÔºåËøô‰ºöÊûÅÂ§ßÂΩ±ÂìçÊÄßËÉΩ„ÄÇ</li>
<li><strong>Êï∞ÊçÆ‰∏ç‰∏ÄËá¥ÈóÆÈ¢ò</strong>ÔºåÊØîÂ¶ÇÂΩìÁ¨¨‰∫åÈò∂ÊÆµÔºåÂçèË∞ÉËÄÖÂè™ÂèëÈÄÅ‰∫Ü‰∏ÄÈÉ®ÂàÜÁöÑ commit ËØ∑Ê±ÇÂ∞±ÊåÇ‰∫ÜÔºåÈÇ£‰πà‰πüÂ∞±ÊÑèÂë≥ÁùÄÔºåÊî∂Âà∞Ê∂àÊÅØÁöÑÂèÇ‰∏éËÄÖ‰ºöËøõË°å‰∫ãÂä°ÁöÑÊèê‰∫§ÔºåËÄåÂêéÈù¢Ê≤°Êî∂Âà∞ÁöÑÂàô‰∏ç‰ºöËøõË°å‰∫ãÂä°Êèê‰∫§ÔºåÈÇ£‰πàËøôÊó∂ÂÄôÂ∞±‰ºö‰∫ßÁîüÊï∞ÊçÆ‰∏ç‰∏ÄËá¥ÊÄßÈóÆÈ¢ò„ÄÇ</li>
</ul>
<h3 id="2-2-2-3PCÔºà‰∏âÈò∂ÊÆµÊèê‰∫§Ôºâ"><a href="#2-2-2-3PCÔºà‰∏âÈò∂ÊÆµÊèê‰∫§Ôºâ" class="headerlink" title="2.2.2 3PCÔºà‰∏âÈò∂ÊÆµÊèê‰∫§Ôºâ"></a>2.2.2 3PCÔºà‰∏âÈò∂ÊÆµÊèê‰∫§Ôºâ</h3><p>Âõ†‰∏∫2PCÂ≠òÂú®ÁöÑ‰∏ÄÁ≥ªÂàóÈóÆÈ¢òÔºåÊØîÂ¶ÇÂçïÁÇπÔºåÂÆπÈîôÊú∫Âà∂Áº∫Èô∑Á≠âÁ≠âÔºå‰ªéËÄå‰∫ßÁîü‰∫Ü <strong>3PCÔºà‰∏âÈò∂ÊÆµÊèê‰∫§Ôºâ</strong> „ÄÇÈÇ£‰πàËøô‰∏âÈò∂ÊÆµÂèàÂàÜÂà´ÊòØ‰ªÄ‰πàÂë¢Ôºü</p>
<ol>
<li><strong>CanCommitÈò∂ÊÆµ</strong>ÔºöÂçèË∞ÉËÄÖÂêëÊâÄÊúâÂèÇ‰∏éËÄÖÂèëÈÄÅ CanCommit ËØ∑Ê±ÇÔºåÂèÇ‰∏éËÄÖÊî∂Âà∞ËØ∑Ê±ÇÂêé‰ºöÊ†πÊçÆËá™Ë∫´ÊÉÖÂÜµÊü•ÁúãÊòØÂê¶ËÉΩÊâßË°å‰∫ãÂä°ÔºåÂ¶ÇÊûúÂèØ‰ª•ÂàôËøîÂõû YES ÂìçÂ∫îÂπ∂ËøõÂÖ•È¢ÑÂ§áÁä∂ÊÄÅÔºåÂê¶ÂàôËøîÂõû NO „ÄÇ</li>
<li><strong>PreCommitÈò∂ÊÆµ</strong>ÔºöÂçèË∞ÉËÄÖÊ†πÊçÆÂèÇ‰∏éËÄÖËøîÂõûÁöÑÂìçÂ∫îÊù•ÂÜ≥ÂÆöÊòØÂê¶ÂèØ‰ª•ËøõË°å‰∏ãÈù¢ÁöÑ PreCommit Êìç‰Ωú„ÄÇÂ¶ÇÊûú‰∏äÈù¢ÂèÇ‰∏éËÄÖËøîÂõûÁöÑÈÉΩÊòØ YESÔºåÈÇ£‰πàÂçèË∞ÉËÄÖÂ∞ÜÂêëÊâÄÊúâÂèÇ‰∏éËÄÖÂèëÈÄÅ PreCommit È¢ÑÊèê‰∫§ËØ∑Ê±ÇÔºå<strong>ÂèÇ‰∏éËÄÖÊî∂Âà∞È¢ÑÊèê‰∫§ËØ∑Ê±ÇÂêéÔºå‰ºöËøõË°å‰∫ãÂä°ÁöÑÊâßË°åÊìç‰ΩúÔºåÂπ∂Â∞Ü Undo Âíå Redo ‰ø°ÊÅØÂÜôÂÖ•‰∫ãÂä°Êó•Âøó‰∏≠</strong> ÔºåÊúÄÂêéÂ¶ÇÊûúÂèÇ‰∏éËÄÖÈ°∫Âà©ÊâßË°å‰∫Ü‰∫ãÂä°ÂàôÁªôÂçèË∞ÉËÄÖËøîÂõûÊàêÂäüÁöÑÂìçÂ∫î„ÄÇÂ¶ÇÊûúÂú®Á¨¨‰∏ÄÈò∂ÊÆµÂçèË∞ÉËÄÖÊî∂Âà∞‰∫Ü <strong>‰ªª‰Ωï‰∏Ä‰∏™ NO</strong> ÁöÑ‰ø°ÊÅØÔºåÊàñËÄÖ <strong>Âú®‰∏ÄÂÆöÊó∂Èó¥ÂÜÖ</strong> Âπ∂Ê≤°ÊúâÊî∂Âà∞ÂÖ®ÈÉ®ÁöÑÂèÇ‰∏éËÄÖÁöÑÂìçÂ∫îÔºåÈÇ£‰πàÂ∞±‰ºö‰∏≠Êñ≠‰∫ãÂä°ÔºåÂÆÉ‰ºöÂêëÊâÄÊúâÂèÇ‰∏éËÄÖÂèëÈÄÅ‰∏≠Êñ≠ËØ∑Ê±ÇÔºàabortÔºâÔºåÂèÇ‰∏éËÄÖÊî∂Âà∞‰∏≠Êñ≠ËØ∑Ê±Ç‰πãÂêé‰ºöÁ´ãÂç≥‰∏≠Êñ≠‰∫ãÂä°ÔºåÊàñËÄÖÂú®‰∏ÄÂÆöÊó∂Èó¥ÂÜÖÊ≤°ÊúâÊî∂Âà∞ÂçèË∞ÉËÄÖÁöÑËØ∑Ê±ÇÔºåÂÆÉ‰πü‰ºö‰∏≠Êñ≠‰∫ãÂä°„ÄÇ</li>
<li><strong>DoCommitÈò∂ÊÆµ</strong>ÔºöËøô‰∏™Èò∂ÊÆµÂÖ∂ÂÆûÂíå 2PC ÁöÑÁ¨¨‰∫åÈò∂ÊÆµÂ∑Æ‰∏çÂ§öÔºåÂ¶ÇÊûúÂçèË∞ÉËÄÖÊî∂Âà∞‰∫ÜÊâÄÊúâÂèÇ‰∏éËÄÖÂú® PreCommit Èò∂ÊÆµÁöÑ YES ÂìçÂ∫îÔºåÈÇ£‰πàÂçèË∞ÉËÄÖÂ∞Ü‰ºöÁªôÊâÄÊúâÂèÇ‰∏éËÄÖÂèëÈÄÅ DoCommit ËØ∑Ê±ÇÔºå<strong>ÂèÇ‰∏éËÄÖÊî∂Âà∞ DoCommit ËØ∑Ê±ÇÂêéÂàô‰ºöËøõË°å‰∫ãÂä°ÁöÑÊèê‰∫§Â∑•‰Ωú</strong>ÔºåÂÆåÊàêÂêéÂàô‰ºöÁªôÂçèË∞ÉËÄÖËøîÂõûÂìçÂ∫îÔºåÂçèË∞ÉËÄÖÊî∂Âà∞ÊâÄÊúâÂèÇ‰∏éËÄÖËøîÂõûÁöÑ‰∫ãÂä°Êèê‰∫§ÊàêÂäüÁöÑÂìçÂ∫î‰πãÂêéÂàôÂÆåÊàê‰∫ãÂä°„ÄÇËã•ÂçèË∞ÉËÄÖÂú® PreCommit Èò∂ÊÆµ <strong>Êî∂Âà∞‰∫Ü‰ªª‰Ωï‰∏Ä‰∏™ NO ÊàñËÄÖÂú®‰∏ÄÂÆöÊó∂Èó¥ÂÜÖÊ≤°ÊúâÊî∂Âà∞ÊâÄÊúâÂèÇ‰∏éËÄÖÁöÑÂìçÂ∫î</strong> ÔºåÈÇ£‰πàÂ∞±‰ºöËøõË°å‰∏≠Êñ≠ËØ∑Ê±ÇÁöÑÂèëÈÄÅÔºåÂèÇ‰∏éËÄÖÊî∂Âà∞‰∏≠Êñ≠ËØ∑Ê±ÇÂêéÂàô‰ºö <strong>ÈÄöËøá‰∏äÈù¢ËÆ∞ÂΩïÁöÑÂõûÊªöÊó•Âøó</strong> Êù•ËøõË°å‰∫ãÂä°ÁöÑÂõûÊªöÊìç‰ΩúÔºåÂπ∂ÂêëÂçèË∞ÉËÄÖÂèçÈ¶àÂõûÊªöÁä∂ÂÜµÔºåÂçèË∞ÉËÄÖÊî∂Âà∞ÂèÇ‰∏éËÄÖËøîÂõûÁöÑÊ∂àÊÅØÂêéÔºå‰∏≠Êñ≠‰∫ãÂä°</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/MapleFv/BolgImgs/202205251021839.png" alt="img"><br>3PCÂ§öÂ§ÑÈááÁî®Ë∂ÖÊó∂‰∏≠Êñ≠ÔºåÂáèÂ∞ëÂêåÊ≠•ÈòªÂ°ûÁöÑÊó∂Èó¥<br>ÊÄª‰πãÔºå3PC ÈÄöËøá‰∏ÄÁ≥ªÂàóÁöÑË∂ÖÊó∂Êú∫Âà∂ÂæàÂ•ΩÁöÑÁºìËß£‰∫Ü<strong>ÈòªÂ°ûÈóÆÈ¢ò</strong>Ôºå‰ΩÜÊòØ<strong>ÊúÄÈáçË¶ÅÁöÑ‰∏ÄËá¥ÊÄßÂπ∂Ê≤°ÊúâÂæóÂà∞Ê†πÊú¨ÁöÑËß£ÂÜ≥</strong>ÔºåÊØîÂ¶ÇÂú® PreCommit Èò∂ÊÆµÔºåÂΩì‰∏Ä‰∏™ÂèÇ‰∏éËÄÖÊî∂Âà∞‰∫ÜËØ∑Ê±Ç‰πãÂêéÂÖ∂‰ªñÂèÇ‰∏éËÄÖÂíåÂçèË∞ÉËÄÖÊåÇ‰∫ÜÊàñËÄÖÂá∫Áé∞‰∫ÜÁΩëÁªúÂàÜÂå∫ÔºåËøô‰∏™Êó∂ÂÄôÊî∂Âà∞Ê∂àÊÅØÁöÑÂèÇ‰∏éËÄÖÈÉΩ‰ºöËøõË°å‰∫ãÂä°Êèê‰∫§ÔºåËøôÂ∞±‰ºöÂá∫Áé∞Êï∞ÊçÆ‰∏ç‰∏ÄËá¥ÊÄßÈóÆÈ¢ò„ÄÇ</p>
<p>ÊâÄ‰ª•ÔºåË¶ÅËß£ÂÜ≥‰∏ÄËá¥ÊÄßÈóÆÈ¢òËøòÈúÄË¶ÅÈù† Paxos ÁÆóÊ≥ï‚≠êÔ∏è ‚≠êÔ∏è ‚≠êÔ∏è „ÄÇ</p>
<h3 id="2-2-3-Paxos-ÁÆóÊ≥ï"><a href="#2-2-3-Paxos-ÁÆóÊ≥ï" class="headerlink" title="2.2.3 Paxos ÁÆóÊ≥ï"></a>2.2.3 Paxos ÁÆóÊ≥ï</h3><p>Paxos ÁÆóÊ≥ïÊòØÂü∫‰∫é<strong>Ê∂àÊÅØ‰º†ÈÄí‰∏îÂÖ∑ÊúâÈ´òÂ∫¶ÂÆπÈîôÁâπÊÄßÁöÑ‰∏ÄËá¥ÊÄßÁÆóÊ≥ï</strong>ÔºåÊòØÁõÆÂâçÂÖ¨ËÆ§ÁöÑËß£ÂÜ≥ÂàÜÂ∏ÉÂºè‰∏ÄËá¥ÊÄßÈóÆÈ¢òÊúÄÊúâÊïàÁöÑÁÆóÊ≥ï‰πã‰∏ÄÔºå<strong>ÂÖ∂Ëß£ÂÜ≥ÁöÑÈóÆÈ¢òÂ∞±ÊòØÂú®ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠Â¶Ç‰ΩïÂ∞±Êüê‰∏™ÂÄºÔºàÂÜ≥ËÆÆÔºâËææÊàê‰∏ÄËá¥</strong> „ÄÇ<br>‰∏â‰∏™ËßíËâ≤ÔºöProposerÊèêÊ°àËÄÖ„ÄÅAcceptorË°®ÂÜ≥ËÄÖ„ÄÅLearnerÂ≠¶‰π†ËÄÖ<br>‰∏§‰∏™Èò∂ÊÆµÔºöPrepare Âíå accept Èò∂ÊÆµ</p>
<h4 id="prepare-Èò∂ÊÆµ"><a href="#prepare-Èò∂ÊÆµ" class="headerlink" title="prepare Èò∂ÊÆµ"></a>prepare Èò∂ÊÆµ</h4><p>ÊèêÊ°àËÄÖË¥üË¥£ÊèêÂá∫proposalÔºåÊØè‰∏™ÊèêÊ°àËÄÖÂú®ÊèêÊ°àÊó∂ÈÉΩ‰ºöËé∑Âæó‰∏Ä‰∏™ÂÖ®Â±ÄÂîØ‰∏ÄÁöÑÈÄíÂ¢ûÁöÑÊèêÊ°àÁºñÂè∑ÔºåÁÑ∂ÂêéÂ∞ÜËØ•ÁºñÂè∑Ëµã‰∫àË¶ÅÊèêÂá∫ÁöÑÊèêÊ°àÔºõ<br>Ë°®ÂÜ≥ËÄÖÊî∂Âà∞ÊèêÊ°àÁºñÂè∑ÂêéÔºåÂ¶ÇÊûúÊèêÊ°àÁºñÂè∑Â§ß‰∫éÊú¨Âú∞ÊúÄÂ§ßÂ∑≤acceptÁöÑÊèêÊ°àÁºñÂè∑ÔºåÂú®ÊâπÂáÜÊèêÊ°àÊó∂Ôºå‰ºöÂ∞Ü‰ª•ÂâçÊé•Êî∂ËøáÁöÑÊúÄÂ§ßÁºñÂè∑ÁöÑÊèêÊ°à‰Ωú‰∏∫ÂìçÂ∫îÂèçÈ¶àÁªôproposerÔºõ</p>
<h4 id="accept-Èò∂ÊÆµ"><a href="#accept-Èò∂ÊÆµ" class="headerlink" title="accept Èò∂ÊÆµ"></a>accept Èò∂ÊÆµ</h4><p>ÂΩì‰∏Ä‰∏™ÊèêÊ°àËÄÖÊî∂Âà∞Ë∂ÖËøá‰∏ÄÂçäÁöÑAcceptorÁöÑÊâπÂáÜÔºåÊèêÊ°àËÄÖ‰ºöÁªôÊâÄÊúâAcceptÂèëÈÄÅÁúüÊ≠£ÁöÑÊèêÊ°àÂÜÖÂÆπÂíåÊèêÊ°àÁºñÂè∑ÔºàÁ¨¨‰∏ÄÈò∂ÊÆµÂ∞±ÊòØËØïÊé¢ÔºâÔºõ<br>Ë°®ÂÜ≥ËÄÖÊî∂Âà∞ÊèêÊ°à‰ºöÂØπÊØîÊèêÊ°àËÄÖÂèëÈÄÅËøáÊù•ÁöÑÊèêÊ°àÁºñÂè∑ÊòØÂê¶Â§ß‰∫éÁ≠â‰∫éÊú¨Âú∞ÊúÄÂ§ß‰ª•ÂèäÊâπÂáÜÁöÑÊúÄÂ§ßÊèêÊ°àÁºñÂè∑ÔºåÂ¶ÇÊûúÊòØÔºåÈÇ£Â∞±acceptËØ•ÊèêÊ°àÔºàÊâßË°åÂÜÖÂÆπ‰ΩÜ‰∏çÊèê‰∫§ÔºâÔºåÈöèÂêéÂ∞ÜÊÉÖÂÜµËøîÂõûÁªôproposerÔºåÂê¶Âàô‰∏çÂõûÂ∫îÊàñËÄÖËøîÂõûNOÔºõ<br>ËÄåÂ¶ÇÊûú Proposer Â¶ÇÊûúÊ≤°ÊúâÊî∂Âà∞Ë∂ÖËøáÂçäÊï∞ÁöÑ accept ÈÇ£‰πàÂÆÉÂ∞Ü‰ºöÂ∞Ü <strong>ÈÄíÂ¢û</strong> ËØ• Proposal ÁöÑÁºñÂè∑ÔºåÁÑ∂Âêé <strong>ÈáçÊñ∞ËøõÂÖ• Prepare Èò∂ÊÆµ</strong> „ÄÇ</p>
<h4 id="paxos-ÁÆóÊ≥ïÁöÑÊ≠ªÂæ™ÁéØÈóÆÈ¢ò"><a href="#paxos-ÁÆóÊ≥ïÁöÑÊ≠ªÂæ™ÁéØÈóÆÈ¢ò" class="headerlink" title="paxos ÁÆóÊ≥ïÁöÑÊ≠ªÂæ™ÁéØÈóÆÈ¢ò"></a>paxos ÁÆóÊ≥ïÁöÑÊ≠ªÂæ™ÁéØÈóÆÈ¢ò</h4><p>‰∏§‰∏™ÊèêÊ°àËÄÖÂÖàÂêéÂàÜÂà´ÂèëÈÄÅ‰∫Ü‰∏§‰∏™‰∏çÂêåÁöÑÊèêÊ°àÔºåÂÖàËÄÖ‰∏çËÉΩÂú®Á¨¨‰∫åÈò∂ÊÆµË¢´ÊâπÂáÜ‰∫ÜÔºåÂõ†‰∏∫ÂêéËÄÖÂèëÈÄÅ‰∫Ü‰∏Ä‰∏™ÁºñÂè∑Êõ¥Â§ßÁöÑÊèêÊ°àÔºõ<br><strong>Â∞±ÂÖÅËÆ∏‰∏Ä‰∏™ËÉΩÊèêÊ°à</strong> Â∞±Ë°å‰∫Ü„ÄÇ</p>
<h2 id="2-3-ÂºïÂá∫-ZAB"><a href="#2-3-ÂºïÂá∫-ZAB" class="headerlink" title="2.3 ÂºïÂá∫ ZAB"></a>2.3 ÂºïÂá∫ ZAB</h2><h3 id="2-3-1-ZookeeperÊû∂ÊûÑ"><a href="#2-3-1-ZookeeperÊû∂ÊûÑ" class="headerlink" title="2.3.1 ZookeeperÊû∂ÊûÑ"></a>2.3.1 ZookeeperÊû∂ÊûÑ</h3><p>‰Ωú‰∏∫‰∏Ä‰∏™‰ºòÁßÄÈ´òÊïà‰∏îÂèØÈù†ÁöÑÂàÜÂ∏ÉÂºèÂçèË∞ÉÊ°ÜÊû∂ÔºåZooKeeper Âú®Ëß£ÂÜ≥ÂàÜÂ∏ÉÂºèÊï∞ÊçÆ‰∏ÄËá¥ÊÄßÈóÆÈ¢òÊó∂Âπ∂Ê≤°ÊúâÁõ¥Êé•‰ΩøÁî® Paxos ÔºåËÄåÊòØ‰∏ìÈó®ÂÆöÂà∂‰∫Ü‰∏ÄËá¥ÊÄßÂçèËÆÆÂè´ÂÅö ZAB(ZooKeeper Atomic Broadcast) ÂéüÂ≠êÂπøÊí≠ÂçèËÆÆÔºåËØ•ÂçèËÆÆËÉΩÂ§üÂæàÂ•ΩÂú∞ÊîØÊåÅ <strong>Â¥©Ê∫ÉÊÅ¢Â§ç</strong> „ÄÇ</p>
<h3 id="2-3-2-ZAB-‰∏≠ÁöÑ‰∏â‰∏™ËßíËâ≤"><a href="#2-3-2-ZAB-‰∏≠ÁöÑ‰∏â‰∏™ËßíËâ≤" class="headerlink" title="2.3.2 ZAB ‰∏≠ÁöÑ‰∏â‰∏™ËßíËâ≤"></a>2.3.2 ZAB ‰∏≠ÁöÑ‰∏â‰∏™ËßíËâ≤</h3><ul>
<li>Leader ÔºöÈõÜÁæ§‰∏≠ <strong>ÂîØ‰∏ÄÁöÑÂÜôËØ∑Ê±ÇÂ§ÑÁêÜËÄÖ</strong> ÔºåËÉΩÂ§üÂèëËµ∑ÊäïÁ•®ÔºàÊäïÁ•®‰πüÊòØ‰∏∫‰∫ÜËøõË°åÂÜôËØ∑Ê±ÇÔºâ„ÄÇ</li>
<li>FollowerÔºöËÉΩÂ§üÊé•Êî∂ÂÆ¢Êà∑Á´ØÁöÑËØ∑Ê±ÇÔºåÂ¶ÇÊûúÊòØËØªËØ∑Ê±ÇÂàôÂèØ‰ª•Ëá™Â∑±Â§ÑÁêÜÔºå<strong>Â¶ÇÊûúÊòØÂÜôËØ∑Ê±ÇÂàôË¶ÅËΩ¨ÂèëÁªô Leader</strong> „ÄÇÂú®ÈÄâ‰∏æËøáÁ®ã‰∏≠‰ºöÂèÇ‰∏éÊäïÁ•®Ôºå<strong>ÊúâÈÄâ‰∏æÊùÉÂíåË¢´ÈÄâ‰∏æÊùÉ</strong> „ÄÇ</li>
<li>Observer ÔºöÂ∞±ÊòØÊ≤°ÊúâÈÄâ‰∏æÊùÉÂíåË¢´ÈÄâ‰∏æÊùÉÁöÑ Follower „ÄÇ</li>
</ul>
<p>Âú® ZAB ÂçèËÆÆ‰∏≠ÂØπ zkServer(Âç≥‰∏äÈù¢Êàë‰ª¨ËØ¥ÁöÑ‰∏â‰∏™ËßíËâ≤ÁöÑÊÄªÁß∞) ËøòÊúâ‰∏§ÁßçÊ®°ÂºèÁöÑÂÆö‰πâÔºåÂàÜÂà´ÊòØ <strong>Ê∂àÊÅØÂπøÊí≠</strong> Âíå <strong>Â¥©Ê∫ÉÊÅ¢Â§ç</strong> „ÄÇ</p>
<h3 id="2-3-3-Ê∂àÊÅØÂπøÊí≠Ê®°Âºè"><a href="#2-3-3-Ê∂àÊÅØÂπøÊí≠Ê®°Âºè" class="headerlink" title="2.3.3 Ê∂àÊÅØÂπøÊí≠Ê®°Âºè"></a>2.3.3 Ê∂àÊÅØÂπøÊí≠Ê®°Âºè</h3><p><img src="https://cdn.jsdelivr.net/gh/MapleFv/BolgImgs/202205251021691.png" alt="img"><br>È°∫Â∫è‰∏ÄËá¥ÊÄß<br>Âú® Leader ËøôÁ´ØÔºåÂÆÉ‰∏∫ÊØè‰∏™ÂÖ∂‰ªñÁöÑ zkServer ÂáÜÂ§á‰∫Ü‰∏Ä‰∏™ <strong>ÈòüÂàó</strong> ÔºåÈááÁî®ÂÖàËøõÂÖàÂá∫ÁöÑÊñπÂºèÂèëÈÄÅÊ∂àÊÅØ„ÄÇÁî±‰∫éÂçèËÆÆÊòØ <strong>ÈÄöËøá TCP <strong>Êù•ËøõË°åÁΩëÁªúÈÄö‰ø°ÁöÑÔºå‰øùËØÅ‰∫ÜÊ∂àÊÅØÁöÑÂèëÈÄÅÈ°∫Â∫èÊÄßÔºåÊé•ÂèóÈ°∫Â∫èÊÄß‰πüÂæóÂà∞‰∫Ü‰øùËØÅ„ÄÇ<br>ÂêåÊó∂Âú®ZAB‰∏≠ËøòÂÆö‰πâ‰∫Ü‰∏Ä‰∏™</strong>ÂÖ®Â±ÄÂçïË∞ÉÈÄíÂ¢ûÁöÑ‰∫ãÂä°ID ZXID</strong>Êù•‰øùËØÅÈ°∫Â∫èÊÄß</p>
<h3 id="2-3-4-Â¥©Ê∫ÉÊÅ¢Â§çÊ®°Âºè"><a href="#2-3-4-Â¥©Ê∫ÉÊÅ¢Â§çÊ®°Âºè" class="headerlink" title="2.3.4 Â¥©Ê∫ÉÊÅ¢Â§çÊ®°Âºè"></a>2.3.4 Â¥©Ê∫ÉÊÅ¢Â§çÊ®°Âºè</h3><p>ËØ¥Âà∞Â¥©Ê∫ÉÊÅ¢Â§çÊàë‰ª¨È¶ñÂÖàË¶ÅÊèêÂà∞ ZAB ‰∏≠ÁöÑ Leader ÈÄâ‰∏æÁÆóÊ≥ïÔºåÂΩìÁ≥ªÁªüÂá∫Áé∞Â¥©Ê∫ÉÂΩ±ÂìçÊúÄÂ§ßÂ∫îËØ•ÊòØ Leader ÁöÑÂ¥©Ê∫ÉÔºåÂõ†‰∏∫Êàë‰ª¨Âè™Êúâ‰∏Ä‰∏™ Leader ÔºåÊâÄ‰ª•ÂΩì Leader Âá∫Áé∞ÈóÆÈ¢òÁöÑÊó∂ÂÄôÊàë‰ª¨ÂäøÂøÖÈúÄË¶ÅÈáçÊñ∞ÈÄâ‰∏æ Leader „ÄÇ</p>
<p>Leader ÈÄâ‰∏æÂèØ‰ª•ÂàÜ‰∏∫‰∏§‰∏™‰∏çÂêåÁöÑÈò∂ÊÆµ,</p>
<ul>
<li>ZABÂàùÂßãÂåñÈÄâ‰∏æÔºöÂàùÂßãÊó∂ÔºåÊï¥‰∏™ÈõÜÁæ§Â§Ñ‰∫élookingÁä∂ÊÄÅÔºõÊØè‰∏™ÊúçÂä°Âô®ÈÉΩ‰ºöÂÖàÁªôËá™Â∑±Êäï‰∏ÄÁ•®ÔºåÊäïÁ•®ÂÜÖÂÆπ‰∏∫ÊúçÂä°Âô®ÁöÑmyidÂíåZXIDÔºåÂàùÂßãÂåñÂÖ®‰∏∫0ÔºõÂÖàÊØîËæÉZXIDÔºåZXIDÂ§ßÁöÑ‰ºòÂÖà‰∏∫LeaderÔºåÂ¶ÇÊûúÁõ∏ÂêåÂàôÊØîËæÉmyidÔºåmyidÂ§ßÁöÑ‰ºòÂÖà‰Ωú‰∏∫LeaderÔºõÊï¥‰∏™ÊúçÂä°Âô®‰ªéLookingÂèò‰∏∫‰∫ÜÊ≠£Â∏∏Áä∂ÊÄÅ„ÄÇ</li>
<li>‰∏âÂè∞ÊúçÂä°Âô®ÊåÇ‰∫Ü‰∏Ä‰∏™(LeaderÊåÇ‰∫Ü)ÔºöÂâ©‰Ωô‰∏§Âè∞Áî±followingÂèò‰∏∫lookingÁä∂ÊÄÅÔºõzxid Â§ßÁöÑ‰ºòÂÖàÂÅöLeadingÔºåÂ¶ÇÊûúÁõ∏ÂêåÈÇ£‰πàÂ∞± myid Â§ßÁöÑ‰ºòÂÖàÔºõ</li>
</ul>
<p><strong>Â¥©Ê∫ÉÊÅ¢Â§ç</strong>Âê´‰πâÂ∞±ÊòØ<strong>ÔºöÂΩìÈõÜÁæ§‰∏≠ÊúâÊú∫Âô®ÊåÇ‰∫ÜÔºåÊàë‰ª¨Êï¥‰∏™ÈõÜÁæ§Â¶Ç‰Ωï‰øùËØÅÊï∞ÊçÆ‰∏ÄËá¥ÊÄßÔºü</strong><br>Â¶ÇÊûúÂè™ÊòØFollowerÊåÇ‰∫ÜÔºåÂè™Ë¶ÅÊ≤°Ë∂ÖËøáÂçäÊï∞ÔºåÂú®Leader‰∏≠‰ºöÁª¥Êä§ÈòüÂàóÔºå‰∏çÁî®ÊãÖÂøÉÂêéÈù¢ÁöÑÊï∞ÊçÆÊ≤°Êé•Êî∂Âà∞ÂØºËá¥Êï∞ÊçÆ‰∏ç‰∏ÄËá¥ÊÄßÔºõ<br>Â¶ÇÊûúLeaderÊåÇ‰∫ÜÔºåÂÖàÊöÇÂÅúÊúçÂä°Âèò‰∏∫ Looking Áä∂ÊÄÅÁÑ∂ÂêéËøõË°å Leader ÁöÑÈáçÊñ∞ÈÄâ‰∏æÔºå‰ΩÜËøô‰∏™Â∞±Ë¶ÅÂàÜ‰∏∫‰∏§ÁßçÊÉÖÂÜµ‰∫ÜÔºåÂàÜÂà´ÊòØ</p>
<ul>
<li><strong>Á°Æ‰øùÂ∑≤ÁªèË¢´LeaderÊèê‰∫§ÁöÑÊèêÊ°àÊúÄÁªàËÉΩÂ§üË¢´ÊâÄÊúâÁöÑFollowerÊèê‰∫§</strong></li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/MapleFv/BolgImgs/202205251021292.png" alt="img"></p>
<ul>
<li><strong>Ë∑≥ËøáÈÇ£‰∫õÂ∑≤ÁªèË¢´‰∏¢ÂºÉÁöÑÊèêÊ°à</strong></li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/MapleFv/BolgImgs/202205251021292.png"></p>
<h2 id="2-4-ZookeeperÁöÑÂá†‰∏™ÁêÜËÆ∫Áü•ËØÜ"><a href="#2-4-ZookeeperÁöÑÂá†‰∏™ÁêÜËÆ∫Áü•ËØÜ" class="headerlink" title="2.4 ZookeeperÁöÑÂá†‰∏™ÁêÜËÆ∫Áü•ËØÜ"></a>2.4 ZookeeperÁöÑÂá†‰∏™ÁêÜËÆ∫Áü•ËØÜ</h2><p>Êï∞ÊçÆÊ®°Âûã„ÄÅÂõûËØù„ÄÅACL„ÄÅWatcherÊú∫Âà∂ÔºàËßÅ1.2 ZookeeperÈáçË¶ÅÊ¶ÇÂøµËß£ËØªÔºâ</p>
<h2 id="2-5-ZookeeperÁöÑÂá†‰∏™ÂÖ∏ÂûãÂ∫îÁî®Âú∫ÊôØ"><a href="#2-5-ZookeeperÁöÑÂá†‰∏™ÂÖ∏ÂûãÂ∫îÁî®Âú∫ÊôØ" class="headerlink" title="2.5 ZookeeperÁöÑÂá†‰∏™ÂÖ∏ÂûãÂ∫îÁî®Âú∫ÊôØ"></a>2.5 ZookeeperÁöÑÂá†‰∏™ÂÖ∏ÂûãÂ∫îÁî®Âú∫ÊôØ</h2><h3 id="2-5-1-ÈÄâ‰∏ª"><a href="#2-5-1-ÈÄâ‰∏ª" class="headerlink" title="2.5.1 ÈÄâ‰∏ª"></a>2.5.1 ÈÄâ‰∏ª</h3><p><strong>‰∏¥Êó∂ËäÇÁÇπ</strong>ÔºöÂõ†‰∏∫ Zookeeper ÁöÑÂº∫‰∏ÄËá¥ÊÄßÔºåËÉΩÂ§üÂæàÂ•ΩÂú∞Âú®‰øùËØÅ <strong>Âú®È´òÂπ∂ÂèëÁöÑÊÉÖÂÜµ‰∏ã‰øùËØÅËäÇÁÇπÂàõÂª∫ÁöÑÂÖ®Â±ÄÂîØ‰∏ÄÊÄß</strong> (Âç≥Êó†Ê≥ïÈáçÂ§çÂàõÂª∫ÂêåÊ†∑ÁöÑËäÇÁÇπ)„ÄÇ</p>
<p>Âà©Áî®Ëøô‰∏™ÁâπÊÄßÔºåÊàë‰ª¨ÂèØ‰ª• <strong>ËÆ©Â§ö‰∏™ÂÆ¢Êà∑Á´ØÂàõÂª∫‰∏Ä‰∏™ÊåáÂÆöÁöÑËäÇÁÇπ</strong> ÔºåÂàõÂª∫ÊàêÂäüÁöÑÂ∞±ÊòØ master„ÄÇ</p>
<p>masterÊåÇ‰∫ÜÊÄé‰πàÂäûÔºüÔºà<strong>Âà©Áî®‰∏¥Êó∂ËäÇÁÇπÁä∂ÊÄÅÂíåwatcher</strong>Ôºâ<br>Êàë‰ª¨ÊòØ‰∏çÊòØÂèØ‰ª• <strong>ËÆ©ÂÖ∂‰ªñ‰∏çÊòØ master ÁöÑËäÇÁÇπÁõëÂê¨ËäÇÁÇπÁöÑÁä∂ÊÄÅ</strong> ÔºåÊØîÂ¶ÇËØ¥Êàë‰ª¨ÁõëÂê¨Ëøô‰∏™‰∏¥Êó∂ËäÇÁÇπÁöÑÁà∂ËäÇÁÇπÔºåÂ¶ÇÊûúÂ≠êËäÇÁÇπ‰∏™Êï∞Âèò‰∫ÜÂ∞±‰ª£Ë°® master ÊåÇ‰∫ÜÔºåËøô‰∏™Êó∂ÂÄôÊàë‰ª¨ <strong>Ëß¶ÂèëÂõûË∞ÉÂáΩÊï∞ËøõË°åÈáçÊñ∞ÈÄâ‰∏æ</strong> ÔºåÊàñËÄÖÊàë‰ª¨Áõ¥Êé•ÁõëÂê¨ËäÇÁÇπÁöÑÁä∂ÊÄÅÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáËäÇÁÇπÊòØÂê¶Â∑≤ÁªèÂ§±ÂéªËøûÊé•Êù•Âà§Êñ≠ master ÊòØÂê¶ÊåÇ‰∫ÜÁ≠âÁ≠â„ÄÇ<br><img src="https://cdn.jsdelivr.net/gh/MapleFv/BolgImgs/202205251023434.png" alt="img"></p>
<h3 id="2-5-2-ÂàÜÂ∏ÉÂºèÈîÅ"><a href="#2-5-2-ÂàÜÂ∏ÉÂºèÈîÅ" class="headerlink" title="2.5.2 ÂàÜÂ∏ÉÂºèÈîÅ"></a>2.5.2 ÂàÜÂ∏ÉÂºèÈîÅ</h3><p> <strong>zkÂú®È´òÂπ∂ÂèëÁöÑÊÉÖÂÜµ‰∏ã‰øùËØÅËäÇÁÇπÂàõÂª∫ÁöÑÂÖ®Â±ÄÂîØ‰∏ÄÊÄß</strong><br>Âà©Áî®‰∏¥Êó∂ËäÇÁÇπÁöÑÂàõÂª∫Êù•ÂÆûÁé∞<br>ËÆ©Â§ö‰∏™ÂÆ¢Êà∑Á´ØÂêåÊó∂ÂàõÂª∫‰∏Ä‰∏™‰∏¥Êó∂ËäÇÁÇπÔºå<strong>ÂàõÂª∫ÊàêÂäüÁöÑÂ∞±ËØ¥ÊòéËé∑ÂèñÂà∞‰∫ÜÈîÅ</strong>„ÄÇÁÑ∂ÂêéÊ≤°ÊúâËé∑ÂèñÂà∞ÈîÅÁöÑÂÆ¢Êà∑Á´Ø‰πüÂÉè‰∏äÈù¢ÈÄâ‰∏ªÁöÑÈùû‰∏ªËäÇÁÇπÂàõÂª∫‰∏Ä‰∏™ watcher ËøõË°åËäÇÁÇπÁä∂ÊÄÅÁöÑÁõëÂê¨ÔºåÂ¶ÇÊûúËøô‰∏™‰∫íÊñ•ÈîÅË¢´ÈáäÊîæ‰∫ÜÔºàÂèØËÉΩËé∑ÂèñÈîÅÁöÑÂÆ¢Êà∑Á´ØÂÆïÊú∫‰∫ÜÔºåÊàñËÄÖÈÇ£‰∏™ÂÆ¢Êà∑Á´Ø‰∏ªÂä®ÈáäÊîæ‰∫ÜÈîÅÔºâÂèØ‰ª•Ë∞ÉÁî®ÂõûË∞ÉÂáΩÊï∞ÈáçÊñ∞Ëé∑ÂæóÈîÅ„ÄÇ</p>
<h4 id="‰ΩøÁî®-zookeeper-ÂêåÊó∂ÂÆûÁé∞-ÂÖ±‰∫´ÈîÅÂíåÁã¨Âç†ÈîÅ-ÔºàÊï∞ÊçÆÊ®°Âûã‰∏≠ÁöÑ‰∏¥Êó∂È°∫Â∫èËäÇÁÇπÔºâ"><a href="#‰ΩøÁî®-zookeeper-ÂêåÊó∂ÂÆûÁé∞-ÂÖ±‰∫´ÈîÅÂíåÁã¨Âç†ÈîÅ-ÔºàÊï∞ÊçÆÊ®°Âûã‰∏≠ÁöÑ‰∏¥Êó∂È°∫Â∫èËäÇÁÇπÔºâ" class="headerlink" title="‰ΩøÁî® zookeeper ÂêåÊó∂ÂÆûÁé∞ ÂÖ±‰∫´ÈîÅÂíåÁã¨Âç†ÈîÅ ÔºàÊï∞ÊçÆÊ®°Âûã‰∏≠ÁöÑ‰∏¥Êó∂È°∫Â∫èËäÇÁÇπÔºâ"></a>‰ΩøÁî® zookeeper ÂêåÊó∂ÂÆûÁé∞ ÂÖ±‰∫´ÈîÅÂíåÁã¨Âç†ÈîÅ ÔºàÊï∞ÊçÆÊ®°Âûã‰∏≠ÁöÑ‰∏¥Êó∂È°∫Â∫èËäÇÁÇπÔºâ</h4><p>ËßÑÂÆöÊâÄÊúâÂàõÂª∫ËäÇÁÇπÂøÖÈ°ªÊúâÂ∫èÔºåÂΩì‰Ω†ÊòØËØªËØ∑Ê±ÇÔºàË¶ÅËé∑ÂèñÂÖ±‰∫´ÈîÅÔºâÁöÑËØùÔºåÂ¶ÇÊûú <strong>Ê≤°ÊúâÊØîËá™Â∑±Êõ¥Â∞èÁöÑËäÇÁÇπÔºåÊàñÊØîËá™Â∑±Â∞èÁöÑËäÇÁÇπÈÉΩÊòØËØªËØ∑Ê±Ç</strong> ÔºåÂàôÂèØ‰ª•Ëé∑ÂèñÂà∞ËØªÈîÅÔºåÁÑ∂ÂêéÂ∞±ÂèØ‰ª•ÂºÄÂßãËØª‰∫Ü„ÄÇ<strong>Ëã•ÊØîËá™Â∑±Â∞èÁöÑËäÇÁÇπ‰∏≠ÊúâÂÜôËØ∑Ê±Ç</strong> ÔºåÂàôÂΩìÂâçÂÆ¢Êà∑Á´ØÊó†Ê≥ïËé∑ÂèñÂà∞ËØªÈîÅÔºåÂè™ËÉΩÁ≠âÂæÖÂâçÈù¢ÁöÑÂÜôËØ∑Ê±ÇÂÆåÊàê„ÄÇ<br>Â¶ÇÊûú‰Ω†ÊòØÂÜôËØ∑Ê±ÇÔºàËé∑ÂèñÁã¨Âç†ÈîÅÔºâÔºåËã• <strong>Ê≤°ÊúâÊØîËá™Â∑±Êõ¥Â∞èÁöÑËäÇÁÇπ</strong> ÔºåÂàôË°®Á§∫ÂΩìÂâçÂÆ¢Êà∑Á´ØÂèØ‰ª•Áõ¥Êé•Ëé∑ÂèñÂà∞ÂÜôÈîÅÔºåÂØπÊï∞ÊçÆËøõË°å‰øÆÊîπ„ÄÇËã•ÂèëÁé∞ <strong>ÊúâÊØîËá™Â∑±Êõ¥Â∞èÁöÑËäÇÁÇπÔºåÊó†ËÆ∫ÊòØËØªÊìç‰ΩúËøòÊòØÂÜôÊìç‰ΩúÔºåÂΩìÂâçÂÆ¢Êà∑Á´ØÈÉΩÊó†Ê≥ïËé∑ÂèñÂà∞ÂÜôÈîÅ</strong> ÔºåÁ≠âÂæÖÊâÄÊúâÂâçÈù¢ÁöÑÊìç‰ΩúÂÆåÊàê„ÄÇ</p>
<p>‰ºòÂåñÔºàÊØîÂ¶ÇÂΩì‰∏Ä‰∏™ÈîÅÂæóÂà∞ÈáäÊîæÂÆÉ‰ºöÈÄöÁü•ÊâÄÊúâÁ≠âÂæÖÁöÑÂÆ¢Êà∑Á´Ø‰ªéËÄåÈÄ†Êàê <strong>ÁæäÁæ§ÊïàÂ∫î</strong>Ôºâ<br><strong>ËØªËØ∑Ê±ÇÁõëÂê¨ÊØîËá™Â∑±Â∞èÁöÑÊúÄÂêé‰∏Ä‰∏™ÂÜôËØ∑Ê±ÇËäÇÁÇπ</strong><br><strong>ÂÜôËØ∑Ê±ÇÂè™ÁõëÂê¨ÊØîËá™Â∑±Â∞èÁöÑÊúÄÂêé‰∏Ä‰∏™ËäÇÁÇπ</strong></p>
<h3 id="2-5-3-ÂëΩÂêçÊúçÂä°"><a href="#2-5-3-ÂëΩÂêçÊúçÂä°" class="headerlink" title="2.5.3 ÂëΩÂêçÊúçÂä°"></a>2.5.3 ÂëΩÂêçÊúçÂä°</h3><p>zookeeper ÊòØÈÄöËøá <strong>Ê†ëÂΩ¢ÁªìÊûÑ</strong> Êù•Â≠òÂÇ®Êï∞ÊçÆËäÇÁÇπÁöÑÔºåÈÇ£‰πüÂ∞±ÊòØËØ¥ÔºåÂØπ‰∫éÊØè‰∏™ËäÇÁÇπÁöÑ <strong>ÂÖ®Ë∑ØÂæÑ</strong>ÔºåÂÆÉÂøÖÂÆöÊòØÂîØ‰∏ÄÁöÑÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ËäÇÁÇπÁöÑÂÖ®Ë∑ØÂæÑ‰Ωú‰∏∫ÂëΩÂêçÊñπÂºè‰∫Ü„ÄÇËÄå‰∏îÊõ¥ÈáçË¶ÅÁöÑÊòØÔºåË∑ØÂæÑÊòØÊàë‰ª¨ÂèØ‰ª•Ëá™Â∑±ÂÆö‰πâÁöÑÔºåËøôÂØπ‰∫éÊàë‰ª¨ÂØπÊúâ‰∫õÊúâËØ≠ÊÑèÁöÑÂØπË±°ÁöÑIDËÆæÁΩÆÂèØ‰ª•Êõ¥Âä†‰æø‰∫éÁêÜËß£„ÄÇ</p>
<h3 id="2-5-4-ÈõÜÁæ§ÁÆ°ÁêÜÂíåÊ≥®ÂÜå‰∏≠ÂøÉ"><a href="#2-5-4-ÈõÜÁæ§ÁÆ°ÁêÜÂíåÊ≥®ÂÜå‰∏≠ÂøÉ" class="headerlink" title="2.5.4 ÈõÜÁæ§ÁÆ°ÁêÜÂíåÊ≥®ÂÜå‰∏≠ÂøÉ"></a>2.5.4 ÈõÜÁæ§ÁÆ°ÁêÜÂíåÊ≥®ÂÜå‰∏≠ÂøÉ</h3><p>ÈõÜÁæ§ÁÆ°ÁêÜÔºö<br>zookeeper Â§©ÁÑ∂ÊîØÊåÅÁöÑ watcher Âíå ‰∏¥Êó∂ËäÇÁÇπËÉΩÂæàÂ•ΩÁöÑÂÆûÁé∞Ëøô‰∫õÈúÄÊ±Ç„ÄÇÊàë‰ª¨ÂèØ‰ª•‰∏∫ÊØèÊù°Êú∫Âô®ÂàõÂª∫‰∏¥Êó∂ËäÇÁÇπÔºåÂπ∂ÁõëÊéßÂÖ∂Áà∂ËäÇÁÇπÔºåÂ¶ÇÊûúÂ≠êËäÇÁÇπÂàóË°®ÊúâÂèòÂä®ÔºàÊàë‰ª¨ÂèØËÉΩÂàõÂª∫Âà†Èô§‰∫Ü‰∏¥Êó∂ËäÇÁÇπÔºâÔºåÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®Âú®ÂÖ∂Áà∂ËäÇÁÇπÁªëÂÆöÁöÑ watcher ËøõË°åÁä∂ÊÄÅÁõëÊéßÂíåÂõûË∞É„ÄÇ<br><img src="https://cdn.jsdelivr.net/gh/MapleFv/BolgImgs/202205251023906.png" alt="img"></p>
<p>Ê≥®ÂÜå‰∏≠ÂøÉÔºö<br><strong>ÊúçÂä°Êèê‰æõËÄÖ</strong> Âú® zookeeper ‰∏≠ÂàõÂª∫‰∏Ä‰∏™‰∏¥Êó∂ËäÇÁÇπÂπ∂‰∏îÂ∞ÜËá™Â∑±ÁöÑ ip„ÄÅport„ÄÅË∞ÉÁî®ÊñπÂºè ÂÜôÂÖ•ËäÇÁÇπÔºåÂΩì <strong>ÊúçÂä°Ê∂àË¥πËÄÖ</strong> ÈúÄË¶ÅËøõË°åË∞ÉÁî®ÁöÑÊó∂ÂÄô‰ºö <strong>ÈÄöËøáÊ≥®ÂÜå‰∏≠ÂøÉÊâæÂà∞Áõ∏Â∫îÁöÑÊúçÂä°ÁöÑÂú∞ÂùÄÂàóË°®(IPÁ´ØÂè£‰ªÄ‰πàÁöÑ)</strong> ÔºåÂπ∂ÁºìÂ≠òÂà∞Êú¨Âú∞(Êñπ‰æø‰ª•ÂêéË∞ÉÁî®)ÔºåÂΩìÊ∂àË¥πËÄÖË∞ÉÁî®ÊúçÂä°Êó∂Ôºå‰∏ç‰ºöÂÜçÂéªËØ∑Ê±ÇÊ≥®ÂÜå‰∏≠ÂøÉÔºåËÄåÊòØÁõ¥Êé•ÈÄöËøáË¥üËΩΩÂùáË°°ÁÆóÊ≥ï‰ªéÂú∞ÂùÄÂàóË°®‰∏≠Âèñ‰∏Ä‰∏™ÊúçÂä°Êèê‰æõËÄÖÁöÑÊúçÂä°Âô®Ë∞ÉÁî®ÊúçÂä°„ÄÇ<br>ÂΩìÊúçÂä°Êèê‰æõËÄÖÁöÑÊüêÂè∞ÊúçÂä°Âô®ÂÆïÊú∫Êàñ‰∏ãÁ∫øÊó∂ÔºåÁõ∏Â∫îÁöÑÂú∞ÂùÄ‰ºö‰ªéÊúçÂä°Êèê‰æõËÄÖÂú∞ÂùÄÂàóË°®‰∏≠ÁßªÈô§„ÄÇÂêåÊó∂ÔºåÊ≥®ÂÜå‰∏≠ÂøÉ‰ºöÂ∞ÜÊñ∞ÁöÑÊúçÂä°Âú∞ÂùÄÂàóË°®ÂèëÈÄÅÁªôÊúçÂä°Ê∂àË¥πËÄÖÁöÑÊú∫Âô®Âπ∂ÁºìÂ≠òÂú®Ê∂àË¥πËÄÖÊú¨Êú∫ÔºàÂΩìÁÑ∂‰Ω†ÂèØ‰ª•ËÆ©Ê∂àË¥πËÄÖËøõË°åËäÇÁÇπÁõëÂê¨ÔºåÊàëËÆ∞Âæó Eureka ‰ºöÂÖàËØïÈîôÔºåÁÑ∂ÂêéÂÜçÊõ¥Êñ∞Ôºâ„ÄÇ<br><img src="https://cdn.jsdelivr.net/gh/MapleFv/BolgImgs/202205251023326.png" alt="img"></p>
<h2 id="2-6-ÊÄªÁªì"><a href="#2-6-ÊÄªÁªì" class="headerlink" title="2.6 ÊÄªÁªì"></a>2.6 ÊÄªÁªì</h2><ul>
<li>ÂàÜÂ∏ÉÂºè‰∏éÈõÜÁæ§ÁöÑÂå∫Âà´</li>
<li>2PC „ÄÅ3PC ‰ª•Âèä paxos ÁÆóÊ≥ïËøô‰∫õ‰∏ÄËá¥ÊÄßÊ°ÜÊû∂ÁöÑÂéüÁêÜÂíåÂÆûÁé∞„ÄÇ</li>
<li>zookeeper ‰∏ìÈó®ÁöÑ‰∏ÄËá¥ÊÄßÁÆóÊ≥ï ZAB ÂéüÂ≠êÂπøÊí≠ÂçèËÆÆÁöÑÂÜÖÂÆπÔºàLeader ÈÄâ‰∏æ„ÄÅÂ¥©Ê∫ÉÊÅ¢Â§ç„ÄÅÊ∂àÊÅØÂπøÊí≠Ôºâ„ÄÇ</li>
<li>zookeeper ‰∏≠ÁöÑ‰∏Ä‰∫õÂü∫Êú¨Ê¶ÇÂøµÔºåÊØîÂ¶Ç ACLÔºåÊï∞ÊçÆËäÇÁÇπÔºå‰ºöËØùÔºåwatcherÊú∫Âà∂Á≠âÁ≠â„ÄÇ</li>
<li>zookeeper ÁöÑÂÖ∏ÂûãÂ∫îÁî®Âú∫ÊôØÔºåÊØîÂ¶ÇÈÄâ‰∏ªÔºåÊ≥®ÂÜå‰∏≠ÂøÉÁ≠âÁ≠â„ÄÇ</li>
</ul>
<p>ÂèÇËÄÉÔºö<a target="_blank" rel="noopener" href="https://javaguide.cn/">https://javaguide.cn/</a></p>

    </div>

    
    
    
        <div class="reward-container">
  <div>ÂùöÊåÅÂéüÂàõÊäÄÊúØÂàÜ‰∫´ÔºåÊÇ®ÁöÑÊîØÊåÅÂ∞ÜÈºìÂä±ÊàëÁªßÁª≠Âàõ‰ΩúÔºÅ</div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    ÊâìËµè
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechat.png" alt="Maple ÂæÆ‰ø°ÊîØ‰ªò">
        <p>ÂæÆ‰ø°ÊîØ‰ªò</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/alipay.png" alt="Maple ÊîØ‰ªòÂÆù">
        <p>ÊîØ‰ªòÂÆù</p>
      </div>

  </div>
</div>

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Êú¨Êñá‰ΩúËÄÖÔºö </strong>Maple
  </li>
  <li class="post-copyright-link">
    <strong>Êú¨ÊñáÈìæÊé•Ôºö</strong>
    <a href="http://example.com/2022/05/24/%E5%88%86%E5%B8%83%E5%BC%8F%E5%8D%8F%E8%B0%83/" title="ÂàÜÂ∏ÉÂºèÂçèË∞É">http://example.com/2022/05/24/ÂàÜÂ∏ÉÂºèÂçèË∞É/</a>
  </li>
  <li class="post-copyright-license">
    <strong>ÁâàÊùÉÂ£∞ÊòéÔºö </strong>Êú¨ÂçöÂÆ¢ÊâÄÊúâÊñáÁ´†Èô§ÁâπÂà´Â£∞ÊòéÂ§ñÔºåÂùáÈááÁî® <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> ËÆ∏ÂèØÂçèËÆÆ„ÄÇËΩ¨ËΩΩËØ∑Ê≥®ÊòéÂá∫Â§ÑÔºÅ
  </li>
</ul>
</div>

        

  <div class="followme">
    <p>Ê¨¢ËøéÂÖ≥Ê≥®ÊàëÁöÑÂÖ∂ÂÆÉÂèëÂ∏ÉÊ∏†ÈÅì</p>

    <div class="social-list">

        <div class="social-item">
          <a target="_blank" class="social-link" href="1270109244@qq.com">
            <span class="icon">
              <i class="fa fa-envelope"></i>
            </span>

            <span class="label">E-Mail</span>
          </a>
        </div>

        <div class="social-item">
          <a target="_blank" class="social-link" href="/atom.xml">
            <span class="icon">
              <i class="fa fa-rss"></i>
            </span>

            <span class="label">RSS</span>
          </a>
        </div>
    </div>
  </div>


      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/Zookeeper/" rel="tag"><i class="fa fa-tag"></i> Zookeeper</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/05/22/JVM%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E8%AF%A6%E8%A7%A3/" rel="prev" title="JVMÂûÉÂúæÂõûÊî∂ËØ¶Ëß£">
      <i class="fa fa-chevron-left"></i> JVMÂûÉÂúæÂõûÊî∂ËØ¶Ëß£
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/05/24/RPC/" rel="next" title="RPC">
      RPC <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          ÊñáÁ´†ÁõÆÂΩï
        </li>
        <li class="sidebar-nav-overview">
          Á´ôÁÇπÊ¶ÇËßà
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-ZooKeeper-%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5%E6%80%BB%E7%BB%93-%E5%85%A5%E9%97%A8"><span class="nav-text">1 ZooKeeper Áõ∏ÂÖ≥Ê¶ÇÂøµÊÄªÁªì(ÂÖ•Èó®)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-ZooKeeper-%E4%BB%8B%E7%BB%8D"><span class="nav-text">1.1 ZooKeeper ‰ªãÁªç</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-1-ZooKeeper-%E6%A6%82%E8%A7%88"><span class="nav-text">1.1.1 ZooKeeper Ê¶ÇËßà</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-2-ZooKeeper-%E7%89%B9%E7%82%B9"><span class="nav-text">1.1.2 ZooKeeper ÁâπÁÇπ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-3-ZooKeeper-%E5%85%B8%E5%9E%8B%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-text">1.1.3 ZooKeeper ÂÖ∏ÂûãÂ∫îÁî®Âú∫ÊôØ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-4-%E6%9C%89%E5%93%AA%E4%BA%9B%E8%91%97%E5%90%8D%E7%9A%84%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE%E7%94%A8%E5%88%B0%E4%BA%86-ZooKeeper"><span class="nav-text">1.1.4 ÊúâÂì™‰∫õËëóÂêçÁöÑÂºÄÊ∫êÈ°πÁõÆÁî®Âà∞‰∫Ü ZooKeeper?</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-ZooKeeper-%E9%87%8D%E8%A6%81%E6%A6%82%E5%BF%B5%E8%A7%A3%E8%AF%BB"><span class="nav-text">1.2 ZooKeeper ÈáçË¶ÅÊ¶ÇÂøµËß£ËØª</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-1-Data-model%EF%BC%88%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%EF%BC%89"><span class="nav-text">1.2.1 Data modelÔºàÊï∞ÊçÆÊ®°ÂûãÔºâ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-2-znode%EF%BC%88%E6%95%B0%E6%8D%AE%E8%8A%82%E7%82%B9%EF%BC%89"><span class="nav-text">1.2.2 znodeÔºàÊï∞ÊçÆËäÇÁÇπÔºâ</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#znode-4-%E7%A7%8D%E7%B1%BB%E5%9E%8B"><span class="nav-text">znode 4 ÁßçÁ±ªÂûã</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#znode-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="nav-text">znode Êï∞ÊçÆÁªìÊûÑ</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-3-%E7%89%88%E6%9C%AC"><span class="nav-text">1.2.3 ÁâàÊú¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-4-ACL%EF%BC%88%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6%EF%BC%89"><span class="nav-text">1.2.4 ACLÔºàÊùÉÈôêÊéßÂà∂Ôºâ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-5-Watcher%EF%BC%88%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC%E5%99%A8%EF%BC%89"><span class="nav-text">1.2.5 WatcherÔºà‰∫ã‰ª∂ÁõëÂê¨Âô®Ôºâ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-6-%E4%BC%9A%E8%AF%9D%EF%BC%88Session%EF%BC%89"><span class="nav-text">1.2.6 ‰ºöËØùÔºàSessionÔºâ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-3-ZooKeeper-%E9%9B%86%E7%BE%A4"><span class="nav-text">1.3  ZooKeeper ÈõÜÁæ§</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-1-ZooKeeper-%E9%9B%86%E7%BE%A4%E8%A7%92%E8%89%B2"><span class="nav-text">1.3.1 ZooKeeper ÈõÜÁæ§ËßíËâ≤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-2-ZooKeeper-%E9%9B%86%E7%BE%A4%E4%B8%AD%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8A%B6%E6%80%81"><span class="nav-text">1.3.2 ZooKeeper ÈõÜÁæ§‰∏≠ÁöÑÊúçÂä°Âô®Áä∂ÊÄÅ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-3-ZooKeeper-%E9%80%89%E4%B8%BE%E7%9A%84%E8%BF%87%E5%8D%8A%E6%9C%BA%E5%88%B6%E9%98%B2%E6%AD%A2%E8%84%91%E8%A3%82"><span class="nav-text">1.3.3 ZooKeeper ÈÄâ‰∏æÁöÑËøáÂçäÊú∫Âà∂Èò≤Ê≠¢ËÑëË£Ç</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4-ZAB-%E5%8D%8F%E8%AE%AE%E5%92%8C-Paxos-%E7%AE%97%E6%B3%95"><span class="nav-text">1.4 ZAB ÂçèËÆÆÂíå Paxos ÁÆóÊ≥ï</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-1-ZAB-%E5%8D%8F%E8%AE%AE%E4%BB%8B%E7%BB%8D"><span class="nav-text">1.4.1 ZAB ÂçèËÆÆ‰ªãÁªç</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-4-2-ZAB-%E5%8D%8F%E8%AE%AE%E4%B8%A4%E7%A7%8D%E5%9F%BA%E6%9C%AC%E7%9A%84%E6%A8%A1%E5%BC%8F%EF%BC%9A%E5%B4%A9%E6%BA%83%E6%81%A2%E5%A4%8D%E5%92%8C%E6%B6%88%E6%81%AF%E5%B9%BF%E6%92%AD"><span class="nav-text">1.4.2 ZAB ÂçèËÆÆ‰∏§ÁßçÂü∫Êú¨ÁöÑÊ®°ÂºèÔºöÂ¥©Ê∫ÉÊÅ¢Â§çÂíåÊ∂àÊÅØÂπøÊí≠</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-5-%E6%80%BB%E7%BB%93"><span class="nav-text">1.5 ÊÄªÁªì</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-ZooKeeper-%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5%E6%80%BB%E7%BB%93-%E8%BF%9B%E9%98%B6"><span class="nav-text">2 ZooKeeper Áõ∏ÂÖ≥Ê¶ÇÂøµÊÄªÁªì(ËøõÈò∂)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-%E4%B8%80%E8%87%B4%E6%80%A7%E9%97%AE%E9%A2%98"><span class="nav-text">2.1 ‰∏ÄËá¥ÊÄßÈóÆÈ¢ò</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2-%E4%B8%80%E8%87%B4%E6%80%A7%E5%8D%8F%E8%AE%AE%E5%92%8C%E7%AE%97%E6%B3%95"><span class="nav-text">2.2 ‰∏ÄËá¥ÊÄßÂçèËÆÆÂíåÁÆóÊ≥ï</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-1-2PC%EF%BC%88%E4%B8%A4%E9%98%B6%E6%AE%B5%E6%8F%90%E4%BA%A4%EF%BC%89"><span class="nav-text">2.2.1 2PCÔºà‰∏§Èò∂ÊÆµÊèê‰∫§Ôºâ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-2-3PC%EF%BC%88%E4%B8%89%E9%98%B6%E6%AE%B5%E6%8F%90%E4%BA%A4%EF%BC%89"><span class="nav-text">2.2.2 3PCÔºà‰∏âÈò∂ÊÆµÊèê‰∫§Ôºâ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-3-Paxos-%E7%AE%97%E6%B3%95"><span class="nav-text">2.2.3 Paxos ÁÆóÊ≥ï</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#prepare-%E9%98%B6%E6%AE%B5"><span class="nav-text">prepare Èò∂ÊÆµ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#accept-%E9%98%B6%E6%AE%B5"><span class="nav-text">accept Èò∂ÊÆµ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#paxos-%E7%AE%97%E6%B3%95%E7%9A%84%E6%AD%BB%E5%BE%AA%E7%8E%AF%E9%97%AE%E9%A2%98"><span class="nav-text">paxos ÁÆóÊ≥ïÁöÑÊ≠ªÂæ™ÁéØÈóÆÈ¢ò</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-3-%E5%BC%95%E5%87%BA-ZAB"><span class="nav-text">2.3 ÂºïÂá∫ ZAB</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-1-Zookeeper%E6%9E%B6%E6%9E%84"><span class="nav-text">2.3.1 ZookeeperÊû∂ÊûÑ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-2-ZAB-%E4%B8%AD%E7%9A%84%E4%B8%89%E4%B8%AA%E8%A7%92%E8%89%B2"><span class="nav-text">2.3.2 ZAB ‰∏≠ÁöÑ‰∏â‰∏™ËßíËâ≤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-3-%E6%B6%88%E6%81%AF%E5%B9%BF%E6%92%AD%E6%A8%A1%E5%BC%8F"><span class="nav-text">2.3.3 Ê∂àÊÅØÂπøÊí≠Ê®°Âºè</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-4-%E5%B4%A9%E6%BA%83%E6%81%A2%E5%A4%8D%E6%A8%A1%E5%BC%8F"><span class="nav-text">2.3.4 Â¥©Ê∫ÉÊÅ¢Â§çÊ®°Âºè</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-4-Zookeeper%E7%9A%84%E5%87%A0%E4%B8%AA%E7%90%86%E8%AE%BA%E7%9F%A5%E8%AF%86"><span class="nav-text">2.4 ZookeeperÁöÑÂá†‰∏™ÁêÜËÆ∫Áü•ËØÜ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-5-Zookeeper%E7%9A%84%E5%87%A0%E4%B8%AA%E5%85%B8%E5%9E%8B%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-text">2.5 ZookeeperÁöÑÂá†‰∏™ÂÖ∏ÂûãÂ∫îÁî®Âú∫ÊôØ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-5-1-%E9%80%89%E4%B8%BB"><span class="nav-text">2.5.1 ÈÄâ‰∏ª</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-5-2-%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81"><span class="nav-text">2.5.2 ÂàÜÂ∏ÉÂºèÈîÅ</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-zookeeper-%E5%90%8C%E6%97%B6%E5%AE%9E%E7%8E%B0-%E5%85%B1%E4%BA%AB%E9%94%81%E5%92%8C%E7%8B%AC%E5%8D%A0%E9%94%81-%EF%BC%88%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%E4%B8%AD%E7%9A%84%E4%B8%B4%E6%97%B6%E9%A1%BA%E5%BA%8F%E8%8A%82%E7%82%B9%EF%BC%89"><span class="nav-text">‰ΩøÁî® zookeeper ÂêåÊó∂ÂÆûÁé∞ ÂÖ±‰∫´ÈîÅÂíåÁã¨Âç†ÈîÅ ÔºàÊï∞ÊçÆÊ®°Âûã‰∏≠ÁöÑ‰∏¥Êó∂È°∫Â∫èËäÇÁÇπÔºâ</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-5-3-%E5%91%BD%E5%90%8D%E6%9C%8D%E5%8A%A1"><span class="nav-text">2.5.3 ÂëΩÂêçÊúçÂä°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-5-4-%E9%9B%86%E7%BE%A4%E7%AE%A1%E7%90%86%E5%92%8C%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83"><span class="nav-text">2.5.4 ÈõÜÁæ§ÁÆ°ÁêÜÂíåÊ≥®ÂÜå‰∏≠ÂøÉ</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-6-%E6%80%BB%E7%BB%93"><span class="nav-text">2.6 ÊÄªÁªì</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Maple"
      src="/images/header.jpg">
  <p class="site-author-name" itemprop="name">Maple</p>
  <div class="site-description" itemprop="description">coding super</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">14</span>
          <span class="site-state-item-name">Êó•Âøó</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">ÂàÜÁ±ª</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">18</span>
        <span class="site-state-item-name">Ê†áÁ≠æ</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/MapleFv" title="GitHub ‚Üí https:&#x2F;&#x2F;github.com&#x2F;MapleFv" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/1270109244@qq.com" title="E-Mail ‚Üí 1270109244@qq.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://blog.csdn.net/maple05" title="CSDN ‚Üí https:&#x2F;&#x2F;blog.csdn.net&#x2F;maple05" rel="noopener" target="_blank"><i class="fab fa-codiepie fa-fw"></i>CSDN</a>
      </span>
      <span class="links-of-author-item">
        <a href="/1270109244" title="QQ ‚Üí 1270109244"><i class="fab fa-qq fa-fw"></i>QQ</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Maple</span>
</div>
  <div class="powered-by">Áî± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> Âº∫ÂäõÈ©±Âä®
  </div>

<div>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<span id="busuanzi_container_site_pv" style='display:none'>
    Êú¨Á´ôÊÄªËÆøÈóÆÈáè <span id="busuanzi_value_site_pv"></span> Ê¨°
    <span class="post-meta-divider">|</span>
</span>
<span id="busuanzi_container_site_uv" style='display:none'>
    Êúâ<span id="busuanzi_value_site_uv"></span>‰∫∫ÁúãËøáÊàëÁöÑÂçöÂÆ¢Âï¶
</span>
</div>
        








      </div>
    </footer>
  </div>
  


  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

  <script type="text/javascript" src="/js/love.js"></script>
</body>
</html>
